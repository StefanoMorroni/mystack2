(self.webpackChunkCatastoOpen=self.webpackChunkCatastoOpen||[]).push([[350],{10306:(e,t,s)=>{const n=s(7185),a=s(56647),l=s(72500),o=s(59154).ZP,{isAuthenticationActivated:r,getAuthenticationRule:i,getToken:c,getBasicAuthHeader:u}=s(36493),d=s(51312),p=s(20238),m=s(72240),h=s(54702),b=s(72500);function v(e,t,s){e.params=d({},e.params,{[t]:s}),e.url=e.url?o.getUrlWithoutParameters(e.url,[t]):e.url}function f(e,t,s){e.headers=d({},e.headers,{[t]:s})}const g=[];n.interceptors.request.use((e=>{var t=e.url||"",s=!(0===t.indexOf("http")),n=!s&&t.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(function(e){if(!e||!e.url||!r())return e;const t=a(e.baseURL||"",e.url),s=i(t);switch(s&&s.method){case"browserWithCredentials":return e.withCredentials=!0,e;case"authkey":{const t=c();return t?(v(e,s.authkeyParamName||"authkey",t),e):e}case"test":{const t=s?s.token:"";return t?(v(e,s.authkeyParamName||"authkey",t),e):e}case"basic":const t=u();return t?(f(e,"Authorization",t),e):e;case"bearer":{const t=c();t&&f(e,"Authorization","Bearer "+t)}}}(e),n){let e=window.location;s=n[1]===e.protocol&&n[3]===e.hostname;let t=n[4],a=e.port,l=0===e.protocol.indexOf("https")?443:80;t=""===t?l+"":t+"",a=""===a?l+"":a+"",s=s&&t===a}if(!s){let s=o.getProxyUrl(e);if(s){let n=[],a=!1;p(s)&&(n=s.useCORS||[],a=s.autoDetectCORS||!1,s=s.url);const l=n.reduce(((e,s)=>e||0===t.indexOf(s)),!1),o=g.reduce(((e,s)=>e||0===t.indexOf(s)),!1);if(l||a&&!o)a&&(e.autoDetectCORS=!0);else{const n=b.parse(t,!0,!0),a=m(e.params,h);e.url=s+encodeURIComponent(b.format(d({},n,{search:null,query:d({},n.query,a)}))),e.params=void 0}}}return e})),n.interceptors.response.use((e=>e),(e=>{if(e.config&&e.config.autoDetectCORS){const t=l.parse(e.config.url),s=t.protocol+"//"+t.host+t.pathname;if(-1===g.indexOf(s))return g.push(s),new Promise(((t,s)=>{n({...e.config,autoDetectCORS:!1}).then(t).catch(s)}))}return Promise.reject(e.response?{...e.response,originalError:e}:e)})),e.exports=n},59154:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>Z});var n=s(91868),a=s(77580),l=s.n(a),o=s(72500),r=s.n(o),i=s(7185),c=s.n(i),u=s(23317),d=s.n(u),p=s(21389),m=s.n(p),h=s(20238),b=s.n(h),v=s(55564),f=s.n(v),g=s(54702),y=s.n(g),O=s(51312),S=s.n(O),C=s(89820),T=s(10082),E=s.n(T),A=s(71547);const w=n.Z?new n.Z.Proj("EPSG:4326"):null,P=l().shape({x:l().number.isRequired,y:l().number.isRequired,crs:l().string}),D=r().parse(window.location.href,!0).query;let x="configs/localConfig.json",_={proxyUrl:"/mapstore/proxy/?url=",geoStoreUrl:"/rest/geostore/",printUrl:"/mapstore/print/info.json",translationsPath:"translations",extensionsRegistry:"extensions/extensions.json",extensionsFolder:"extensions/",configurationFolder:"configs/",contextPluginsConfiguration:"configs/pluginsConfig.json",projectionDefs:[],themePrefix:"ms2",bingApiKey:null,mapquestApiKey:null,mapboxAccessToken:"",defaultSourceType:"gxp_wmssource",backgroundGroup:"background",userSessions:{enabled:!1}};const I=function(e,t,s,n){const a=e.mapId;let l;return l=a?(n||_.geoStoreUrl)+"data/"+a:_.configurationFolder+(e.config||t||"config")+"."+(s||"json"),{configUrl:l,legacy:!!a}},j=e=>{const t=e.split("?");if(t.length>2){let e=t.slice(1);return t[0]+"?"+e.join("&")}return e},N=(e,t)=>{const s=j(e).split("?");let n="";if(s.length>=2&&s[1]){const e=s[1].split(/[&;]/g).filter((e=>!!e));e.forEach(((s,a)=>{const l=s.split("=");if(-1===t.indexOf(l[0].toLowerCase())){let t=a===e.length-1?"":"&";n+=l.join("=")+t}}))}return n?s[0]+"?"+n:s[0]},R=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return y()(e)||""===e?null:N(j(e),t)},k=function(e,t){const s=m()(e)?{x:e[0],y:e[1]}:e,a=e.crs||t||"EPSG:4326",l="EPSG:4326"!==a?n.Z.transform(new n.Z.Proj(a),w,s):s;return S()({},l,{crs:"EPSG:4326"})},L=function(e){return"bing"===e.type&&(e.apiKey=_.bingApiKey),"mapquest"===e.type&&(e.apiKey=_.mapquestApiKey),"tileprovider"===e.type&&["MapBoxStyle","MapBox"].includes(e.provider)&&(e.accessToken=_.mapboxAccessToken),e},B=function(e,t){return e.id||(e.id=e.name+"__"+t),e},F=function(e){let t=e;return(t.match(/\{.*?\}/g)||[]).forEach((e=>{const s=_[e.substring(1,e.length-1)];void 0!==s&&(t=t.replace(e,s||""))})),t},z=function(e){return e.url&&(m()(e.url)?e.url=e.url.map((e=>F(e))):e.url=F(e.url)),e},M=function(e){const{layers:t,groups:s,plugins:n,...a}=e;return a.center=k(a.center),{map:a,layers:t.map(L,e).map(B).map(z),groups:s,plugins:n}},V=function(e,t){var s,n=t;for(s in t||(n=_.defaultSourceType),e)e.hasOwnProperty(s)&&(e[s].ptype||(e[s].ptype=n))},U=function(e){return e&&-1!==e.indexOf("?")?e.split("?")[0]:e},H=function(e,t){if(e.baseParams=t.baseParams,t.url){let s=r().parse(t.url,!0);for(let e in s.query)"REQUEST"===e.toUpperCase()&&delete s.query[e];e.baseParams=S()({},e.baseParams,s.query)}e.url=U(t.url)},q=function(e,t,s){var n,a,l,o;for(a=0;a<e.length;a++){(o=t[(l=e[a]).source])&&H(l,o);let r=o.ptype;l.type=r?r.replace(/^gxp_(.*)source$/i,"$1"):"unknown",l&&(s.indexOf(o&&o.ptype)>=0?l.group===_.backgroundGroup&&(l.visibility=l.visibility||!1,n&&n.visibility?l.visibility&&(n.visibility=!1,n=l):n=l):l.visibility=!1)}n&&(n.visibility=!0)},G=function(e){return e.proxyUrl?e.proxyUrl:_.proxyUrl},Z={PropTypes:{center:P,config:l().shape({center:P,zoom:l().number.isRequired}),mapStateSource:l().string},getParsedUrl:function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e){const n=r().parse(R(e,s),!0);let a=null;if(f()(n.pathname,"wfs")||f()(n.pathname,"wms")||f()(n.pathname,"ows"))return a=n.pathname.replace(/(wms|ows|wfs|wps)$/,"wps"),r().format(S()({},n,{search:null,pathname:a},{query:S()({service:"WPS",...t},n.query)}))}return null},getDefaults:function(){return{..._}},setLocalConfigurationFile:function(e){x=e},loadConfiguration:function(){if(x){const e=d()(x);return c().all(e.map((e=>c().get(e).then((e=>e.data)).catch((()=>null))))).then((e=>{const[t,...s]=e;if(!t)throw new Error("local configuration file is broken");const n=(0,A.ao)(t,s.filter((e=>e&&"object"==typeof e)));return _=n?{..._,...n}:_,{..._}}))}return new C.Promise((e=>{e({..._})}))},getCenter:k,normalizeConfig:M,getUserConfiguration:function(e,t,s){return I(D,e,t,s)},getConfigurationOptions:I,getConfigUrl:e=>{let{mapId:t,config:s}=e,n=t,a=s;try{let e=parseInt(n,10);isNaN(e)&&(a=t,n=null)}catch(e){a=t,n=null}return I({mapId:n,config:a})},convertFromLegacy:function(e){var t=e.map,s=e.gsSources||e.sources,n=t.layers.filter((e=>s[e.source])),a=k(t.center,t.projection),l=t.zoom,o=t.maxExtent||t.extent;return V(s,e.defaultSourceType),q(n,s,["gxp_osmsource","gxp_wmssource","gxp_googlesource","gxp_bingsource","gxp_mapquestsource","gxp_olsource"]),M({center:a,zoom:l,maxExtent:o,layers:n,projection:t.projection||"EPSG:3857"})},setupSources:V,normalizeSourceUrl:U,copySourceOptions:H,setupLayers:q,mergeConfigs:function(e,t){return e.map=t.map,e.gsSources=t.gsSources||t.sources,e},getProxyUrl:G,cleanDuplicatedQuestionMarks:j,getUrlWithoutParameters:N,filterUrlParams:R,getProxiedUrl:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=!(0===e.indexOf("http")),n=!s&&e.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(n){let e=window.location;s=n[1]===e.protocol&&n[3]===e.hostname;let t=n[4],a=e.port,l=0===e.protocol.indexOf("https")?443:80;t=""===t?l+"":t+"",a=""===a?l+"":a+"",s=s&&t===a}if(!s){let s=G(t);if(s){let t=[];if(b()(s)&&(t=s.useCORS||[],s=s.url),!t.reduce(((t,s)=>t||0===e.indexOf(s)),!1))return s+encodeURIComponent(e)}}return e},getBrowserProperties:function(){let e="ActiveXObject"in window,t=e&&!document.addEventListener,s=e&&window.location.hash===!!window.MSInputMethodContext&&!!document.documentMode,n=navigator.userAgent.toLowerCase(),a=-1!==n.indexOf("webkit"),l=-1!==n.indexOf("chrome"),o=-1!==n.indexOf("safari")&&-1===n.indexOf("chrome"),r=-1!==n.indexOf("phantom"),i=-1!==n.indexOf("android"),c=-1!==n.search("android [23]"),u=-1!==n.indexOf("gecko"),d=E().any,p=!window.PointerEvent&&window.MSPointerEvent,m=window.PointerEvent&&window.navigator.pointerEnabled&&window.navigator.maxTouchPoints||p,h="devicePixelRatio"in window&&window.devicePixelRatio>1||"matchMedia"in window&&window.matchMedia("(min-resolution:144dpi)")&&window.matchMedia("(min-resolution:144dpi)").matches,b=document.documentElement,v=e&&"transition"in b.style,f="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!c,g="MozPerspective"in b.style,y="OTransition"in b.style,O=!window.L_DISABLE_3D&&(v||f||g||y)&&!r,S=!window.L_NO_TOUCH&&!r&&(m||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch);return{ie:e,ie11:s,ielt9:t,webkit:a,gecko:u&&!a&&!window.opera&&!e,android:i,android23:c,chrome:l,safari:o,ie3d:v,webkit3d:f,gecko3d:g,opera3d:y,any3d:O,mobile:d,mobileWebkit:d&&a,mobileWebkit3d:d&&f,mobileOpera:d&&window.opera,touch:S,msPointer:p,pointer:m,retina:h}},setApiKeys:L,setUrlPlaceholders:z,replacePlaceholders:F,setLayerId:B,getConfigProp:function(e){return _[e]},setConfigProp:function(e,t){_[e]=t},removeConfigProp:function(e){delete _[e]}}},36493:(e,t,s)=>{"use strict";s.r(t),s.d(t,{addAuthenticationParameter:()=>R,addAuthenticationToSLD:()=>B,addAuthenticationToUrl:()=>k,cleanAuthParamsFromURL:()=>F,clearNilValuesForParams:()=>L,default:()=>z,findUserAttribute:()=>w,findUserAttributeValue:()=>P,getAuthKeyParameter:()=>j,getAuthenticationHeaders:()=>N,getAuthenticationMethod:()=>_,getAuthenticationRule:()=>I,getAuthenticationRules:()=>D,getBasicAuthHeader:()=>C,getRefreshToken:()=>E,getSecurityInfo:()=>O,getToken:()=>T,getUser:()=>S,getUserAttributes:()=>A,isAuthenticationActivated:()=>x,setStore:()=>y});var n=s(59154),a=s(72500),l=s.n(a),o=s(51312),r=s.n(o),i=s(81938),c=s.n(i),u=s(54702),d=s.n(u),p=s(21389),m=s.n(p),h=(s(70913),s(46569),s(54863),s(1376),s(8364)),b=s.n(h);s(49977);const v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"persisted.reduxStore";return n.ZP.setConfigProp(t,e),e},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"persisted.reduxStore";return n.ZP.getConfigProp(e)||{}},g=e=>{var t;return!b()(f(e))&&(null===(t=f(e))||void 0===t?void 0:t.getState())||{}};function y(e){v(e)}function O(){return g().security||{}}function S(){var e;return null===(e=O())||void 0===e?void 0:e.user}function C(){var e;return null===(e=O())||void 0===e?void 0:e.authHeader}function T(){var e;return null===(e=O())||void 0===e?void 0:e.token}function E(){var e;return null===(e=O())||void 0===e?void 0:e.refresh_token}function A(e){const t=e||S();if(!t||!t.attribute)return[];const s=t.attribute;return m()(s)?s:[s]}function w(e){const t=A();return t&&e?c()(t.filter((t=>t.name&&t.name.toLowerCase()===e.toLowerCase()))):null}function P(e){const t=w(e);return null==t?void 0:t.value}function D(){return n.ZP.getConfigProp("authenticationRules")||[]}function x(){return n.ZP.getConfigProp("useAuthenticationRules")||!1}function _(e){const t=c()(D().filter((t=>t&&t.urlPattern&&e.match(new RegExp(t.urlPattern,"i")))));return null==t?void 0:t.method}function I(e){return c()(D().filter((t=>t&&t.urlPattern&&e.match(new RegExp(t.urlPattern,"i")))))}function j(e){var t;const s=I(e);return null!==(t=null==s?void 0:s.authkeyParamName)&&void 0!==t?t:"authkey"}function N(e,t){if(!e||!x())return null;if("bearer"===_(e)){const e=d()(t)?T():t;return e?{Authorization:"Bearer ".concat(e)}:null}return null}function R(e,t,s){if(!e||!x())return t;switch(_(e)){case"authkey":{const n=d()(s)?T():s;if(!n)return t;const a=j(e);return r()(t||{},{[a]:n})}case"test":{const s=I(e),n=s?s.token:"",a=j(e);return r()(t||{},{[a]:n})}default:return t}}function k(e){if(!e||!x())return e;const t=l().parse(e,!0);return t.query=R(e,t.query),delete t.search,l().format(t)}function L(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(((t,s)=>d()(e[s])?t:{...t,[s]:e[s]}),{})}function B(e,t){if(e.SLD){const s=l().parse(e.SLD,!0),n=R(e.SLD,s.query,t.securityToken);return r()({},e,{SLD:l().format(r()({},s,{query:n,search:void 0}))})}return e}function F(e){return n.ZP.filterUrlParams(e,[j(e)].filter((e=>e)))}const z={setStore:y,getSecurityInfo:O,getUser:S,getBasicAuthHeader:C,getToken:T,getRefreshToken:E,getUserAttributes:A,findUserAttribute:w,findUserAttributeValue:P,getAuthenticationRules:D,isAuthenticationActivated:x,getAuthenticationMethod:_,getAuthenticationRule:I,addAuthenticationToUrl:k,addAuthenticationParameter:R,clearNilValuesForParams:L,addAuthenticationToSLD:B,getAuthKeyParameter:j,cleanAuthParamsFromURL:F,getAuthenticationHeaders:N}},19426:e=>{e.exports={name:"CatastoOpen",geoserverUrl:"http://localhost:8080/geoserver/"}},6980:(e,t,s)=>{"use strict";s.d(t,{$:()=>Ce,$H:()=>mt,$L:()=>we,AG:()=>xe,AW:()=>Tt,Ac:()=>At,CQ:()=>ut,Cy:()=>ne,Cz:()=>Ie,D2:()=>O,Dh:()=>w,Dx:()=>gt,Ei:()=>fe,F8:()=>k,FG:()=>bt,Fb:()=>rt,Fk:()=>tt,G$:()=>b,Hj:()=>Qe,IK:()=>C,IO:()=>he,IX:()=>ct,Il:()=>q,JT:()=>K,JZ:()=>Ge,Jk:()=>X,Kp:()=>Ee,L3:()=>Z,LF:()=>Je,LY:()=>be,Lh:()=>pt,Lx:()=>Te,M9:()=>_,MJ:()=>De,MY:()=>p,N0:()=>Ot,NJ:()=>u,Ni:()=>Ye,OL:()=>$e,OP:()=>ue,OU:()=>Dt,Oh:()=>ee,Pi:()=>G,Q:()=>Ze,QQ:()=>ie,Qj:()=>nt,Qo:()=>ht,R5:()=>$,Rf:()=>pe,S5:()=>V,SO:()=>Ke,TD:()=>ve,TK:()=>T,TV:()=>de,Tb:()=>Oe,Tk:()=>it,U0:()=>me,UG:()=>f,VH:()=>I,V_:()=>ce,WV:()=>R,XM:()=>lt,Xg:()=>J,Xj:()=>se,YU:()=>Y,YV:()=>at,Yp:()=>y,Yq:()=>re,Zo:()=>ke,_7:()=>_e,_h:()=>Rt,aY:()=>oe,aj:()=>o,bj:()=>x,c3:()=>st,d8:()=>Fe,dO:()=>te,dP:()=>j,ei:()=>ot,er:()=>a,fG:()=>U,fN:()=>Nt,fk:()=>yt,g5:()=>We,gA:()=>ft,gC:()=>dt,go:()=>wt,gx:()=>Pe,h:()=>d,h6:()=>A,hH:()=>h,hK:()=>Pt,hR:()=>He,hn:()=>Re,iL:()=>F,iQ:()=>Ct,iv:()=>D,iz:()=>i,jG:()=>Q,k8:()=>N,kI:()=>Et,kc:()=>ye,mW:()=>ae,mv:()=>_t,mx:()=>qe,n4:()=>ge,n6:()=>H,nL:()=>le,no:()=>l,nq:()=>jt,o2:()=>c,oM:()=>Le,p5:()=>W,q8:()=>It,qD:()=>Be,qT:()=>B,qU:()=>Ue,qw:()=>m,s4:()=>xt,s6:()=>ze,sS:()=>M,sV:()=>Se,t3:()=>Ne,u_:()=>z,ul:()=>vt,vC:()=>g,vE:()=>Ae,vP:()=>r,wE:()=>v,xC:()=>L,xo:()=>Xe,xs:()=>je,y:()=>Ve,y1:()=>E,yE:()=>Me,yZ:()=>St,yn:()=>S,zD:()=>et,zY:()=>P});var n=s(72115);const a="CATASTO_OPEN:ACTIVATE_PANEL",l="CATASTO_OPEN:DEACTIVATE_PANEL",o="CATASTO_OPEN:REDUCED_PANEL",r="CATASTO_OPEN:LOAD_ERROR",i="CATASTO_OPEN:SET_MESSAGE_FOR_USER",c="CATASTO_OPEN:SELECT_SERVICE",u="CATASTO_OPEN:SELECT_SEARCH_IMM_TYPE",d="CATASTO_OPEN:RESUME_PREVIOUS_SEARCH_RESULTS",p="CATASTO_OPEN:UPDATE_RELOAD_RESULTS",m="CATASTO_OPEN:UPDATE_RELOADED_RESULTS",h="CATASTO_OPEN:SELECT_CITY",b="CATASTO_OPEN:LOAD_CITY_DATA",v="CATASTO_OPEN:LOADED_CITY_DATA",f="CATASTO_OPEN:SELECT_SECTION",g="CATASTO_OPEN:LOAD_SECTION_DATA",y="CATASTO_OPEN:LOADED_SECTION_DATA",O="CATASTO_OPEN:SELECT_SHEET",S="CATASTO_OPEN:LOAD_SHEET_DATA",C="CATASTO_OPEN:LOADED_SHEET_DATA",T="CATASTO_OPEN:SELECT_LAND",E="CATASTO_OPEN:LOAD_LAND_DATA",A="CATASTO_OPEN:LOADED_LAND_DATA",w="CATASTO_OPEN:SELECT_BUILDING",P="CATASTO_OPEN:LOAD_BUILDING_DATA",D="CATASTO_OPEN:LOADED_BUILDING_DATA",x="CATASTO_OPEN:SELECT_SUBJECT_FILTER",_="CATASTO_OPEN:UPDATE_SUBJECT_FORM_TYPE",I="CATASTO_OPEN:UPDATE_SUBJECT_FORM",j="CATASTO_OPEN:UPDATE_SUBJECT_FORM_LOAD_TOWN",N="CATASTO_OPEN:UPDATE_SUBJECT_FORM_LOADED_TOWN",R="CATASTO_OPEN:LOAD_NATURAL_SUBJECT_DATA",k="CATASTO_OPEN:LOAD_LEGAL_SUBJECT_DATA",L="CATASTO_OPEN:LOAD_SUBJECT_PROPERTY_DATA",B="CATASTO_OPEN:LOADED_SUBJECT_PROPERTY_DATA",F="CATASTO_OPEN:LOADED_NATURAL_SUBJECT_DATA",z="CATASTO_OPEN:LOADED_LEGAL_SUBJECT_DATA",M="CATASTO_OPEN:ADD_LAYER",V="CATASTO_OPEN:LOAD_LAYER",U="CATASTO_OPEN:REMOVE_LAYER",H="CATASTO_OPEN:LOAD_LAND_DETAIL_DATA",q="CATASTO_OPEN:LOADED_LAND_DETAIL_DATA",G="CATASTO_OPEN:LOAD_BUILDING_DETAIL_DATA",Z="CATASTO_OPEN:LOADED_BUILDING_DETAIL_DATA",Y="CATASTO_OPEN:LOAD_PROPERTY_OWNER_DATA",W="CATASTO_OPEN:LOADED_PROPERTY_OWNER_DATA",J="CATASTO_OPEN:SET_BACKEND",X="CATASTO_OPEN:TEMPORAL_SEARCH_CHECKED",K="CATASTO_OPEN:HISTORICAL_SEARCH_CHECKED",Q="CATASTO_OPEN:START_DATE_SELECTED",$="CATASTO_OPEN:END_DATE_SELECTED",ee="CATASTO_OPEN:IMMOBILE_SELECT_TOPONIMO",te="CATASTO_OPEN:IMMOBILE_LOAD_TOPONIMO",se="CATASTO_OPEN:IMMOBILE_LOADED_TOPONIMO",ne="CATASTO_OPEN:IMMOBILE_LOAD_ADDRESS",ae="CATASTO_OPEN:IMMOBILE_LOADED_ADDRESS",le="CATASTO_OPEN:IMMOBILE_SELECT_ADDRESS",oe="CATASTO_OPEN:IMMOBILE_SET_NCIVICO",re="CATASTO_OPEN:IMMOBILE_SUBMIT_SEARCH",ie="CATASTO_OPEN:IMMOBILE_SELECT_TYPE",ce="CATASTO_OPEN:IMMOBILE_SET_CODICE",ue="CATASTO_OPEN:SET_PRINT_ENDPOINT",de="CATASTO_OPEN:SET_PRINT_PATH_W_PARAMS",pe="CATASTO_OPEN:SET_FIXED_COMUNI",me="CATASTO_OPEN:START_DOWNLOAD_VISURA",he="CATASTO_OPEN:END_DOWNLOAD_VISURA",be="CATASTO_OPEN:ERROR_DOWNLOAD_VISURA",ve="CATASTO_OPEN:START_DOWNLOAD_VISURA_IM_SINGOLA",fe="CATASTO_OPEN:END_DOWNLOAD_VISURA_IM_SINGOLA",ge="CATASTO_OPEN:ERROR_DOWNLOAD_VISURA_IM_SINGOLA",ye="CATASTO_OPEN:WE_ARE_DONE_DOWNLOADING_VISURA_IM_SINGOLA";function Oe(){return{type:a}}function Se(){return{type:l}}function Ce(){return{type:o}}function Te(e){return{type:r,error:e}}function Ee(e){return{type:i,messageForUser:e}}function Ae(e){return{type:V,layer:e}}function we(e){return{type:M,layer:e}}function Pe(){return{type:U}}function De(){return{type:d}}function xe(){return{type:p}}function _e(){return{type:m}}function Ie(e){return{type:c,service:e}}function je(e){return{type:u,serviceImmType:e}}function Ne(e){return{type:h,city:e}}function Re(e){return{type:b,citySearchTxt:e}}function ke(e){const t=e.features.map((e=>(0,n.oQ)(e)));return{type:v,cities:t}}function Le(e){return{type:f,section:e}}function Be(e){return{type:g,cityCode:e}}function Fe(e){const t=e.features.map((e=>(0,n.B1)(e)));return{type:y,sections:t}}function ze(e){return{type:O,sheet:e}}function Me(e){return{type:S,cityCode:e}}function Ve(e){const t=e.features.map((e=>(0,n.Tt)(e)));return{type:C,sheets:t}}function Ue(e){return{type:T,land:e}}function He(e,t){return{type:E,cityCode:e,sheetNumber:t}}function qe(e){const t=e.features.map((e=>(0,n.Tt)(e)));return{type:A,lands:t}}function Ge(e){return{type:w,building:e}}function Ze(e,t){return{type:P,cityCode:e,sheetNumber:t}}function Ye(e){const t=e.features.map((e=>(0,n.Tt)(e)));return{type:D,buildings:t}}function We(e){return{type:x,filter:e}}function Je(e){return{type:_,subjectType:e}}function Xe(e,t){return{type:I,payload:{field:e,value:t}}}function Ke(e){return{type:j,birthPlaceTxt:e}}function Qe(e){const t=e.features.map((e=>(0,n.oQ)(e)));return{type:N,towns:t}}function $e(e){switch(null==e?void 0:e.type){case n.uZ[1].id:return{type:R,subjectForm:e};case n.uZ[2].id:return{type:k,subjectForm:e};default:return{}}}function et(e){const t=((null==e?void 0:e.features)||[]).map((e=>(0,n.RI)(e)));return{type:F,naturalSubjects:t}}function tt(e){const t=((null==e?void 0:e.features)||[]).map((e=>(0,n.RI)(e)));return{type:z,legalSubjects:t}}function st(e){return{type:L,subject:e}}function nt(e){const t=e.features.map((e=>(0,n.RL)(e)));return{type:B,subjectProperties:t}}function at(){return{type:H}}function lt(e){const t=e.features.map((e=>(0,n.Ze)(e)));return{type:q,landDetails:t}}function ot(){return{type:G}}function rt(e){const t=e.features.map((e=>(0,n.ju)(e)));return{type:Z,buildingDetails:t}}function it(e){return{type:Y,property:e}}function ct(e,t){const s=e.features.map((e=>(0,n.x)(e)));return s.propertyType=t,{type:W,propertyOwners:s}}function ut(e){return{type:J,backend:e}}function dt(e){return{type:X,isTemporalSearchChecked:e}}function pt(e){return{type:K,isHistoricalSearchChecked:e}}function mt(e){return{type:Q,startDate:e}}function ht(e){return{type:$,endDate:e}}function bt(e){return{type:ee,toponym:e}}function vt(e){return{type:te,toponymTxt:e}}function ft(e){const t=e.features.map((e=>e.properties));return{type:se,toponyms:t}}function gt(e){return{type:ne,addressTxt:e}}function yt(e){const t=e.features.map((e=>e.properties));return{type:ae,addresses:t}}function Ot(e){return{type:le,address:e}}function St(e){return{type:oe,houseNumber:e}}function Ct(e){return{type:re,filterType:e}}function Tt(e){return{type:ie,immobileType:e}}function Et(e){return{type:ce,immobileCode:e}}function At(e){return{type:ue,printEndPoint:e}}function wt(e){return{type:de,printObj:e}}function Pt(e){return{type:pe,fixedComuni:e}}function Dt(e){return{type:me,fileType:e}}function xt(e,t){return{type:he,fileType:e,blob:t}}function _t(e,t){return{type:be,fileType:e,errorMsg:t}}function It(e,t){return{type:ve,immobile:e,propertyType:t}}function jt(e){return{type:fe,blob:e}}function Nt(e){return{type:ge,errorMsg:e}}function Rt(){return{type:ye}}},32509:(e,t,s)=>{"use strict";s.d(t,{$O:()=>d,Eo:()=>p,KO:()=>n,Nu:()=>l,TC:()=>c,fW:()=>u,ge:()=>r,m6:()=>a,p$:()=>i,v$:()=>o});const n="RESULT_GRID:LOAD_ROWS",a="RESULT_GRID:SORT_ROWS",l="RESULT_GRID:ADD_FILTER",o="RESULT_GRID:FILTER_ROWS",r="RESULT_GRID_CLEAR:FILTER_ROWS";function i(e){return{type:n,rows:e}}function c(e,t){return{type:a,sortColumn:e,sortDirection:t}}function u(){return{type:o}}function d(){return{type:r}}function p(e){return{type:l,filter:e}}},84900:(e,t,s)=>{"use strict";s.d(t,{Z:()=>C});var n=s(49977);function a(e,t,s,n){return{type:"SET_CONTROL_PROPERTY",control:e,property:t,value:s,toggle:n}}function l(e){return{type:"MAP_LAYOUT:UPDATE_MAP_LAYOUT",layout:e}}s(36551),s(40463);var o=s(6980),r=s(72115),i=s(10306),c=s.n(i);const u="WFS",d="1.0.0",p="GetFeature",m="application/json",h=(e,t,s,n)=>{const a={service:u,version:d,request:p,outputFormat:m};return null!==e?null!==t?(a.viewparams="endDate: "+t+";cityCode:"+e,a.typename=r.EY):(a.viewparams="cityCode:"+e,a.typename=r._J):null!==t?(a.viewparams="endDate: "+t,a.typename=r.EY):a.typename=r._J,null===n?c().get(s,{params:a}):c().get(s,{params:a,headers:n})},b=(e,t,s,n,a,l,o,i)=>{const h={service:u,version:d,request:p,outputFormat:m};return null!==l?(h.typename=r.nB,h.viewparams="subjectCode:"+l,null===i?c().get(o,{params:h}):c().get(o,{params:h,headers:i})):(null!==s&&null!==n?(h.typename=r.RX,h.viewparams="firstName:"+e+";lastName:"+t+";birthDate:"+s+";birthPlace:"+n):null!==s?(h.typename=r.JN,h.viewparams="firstName:"+e+";lastName:"+t+";birthDate:"+s):null!==n?(h.typename=r.ep,h.viewparams="firstName:"+e+";lastName:"+t+";birthDate:"+s+";birthPlace:"+n):(h.typename=r.nB,h.viewparams="firstName:"+e+";lastName:"+t+";fiscalCode:"+a),null===i?c().get(o,{params:h}):c().get(o,{params:h,headers:i}))},v=(e,t,s,n,a)=>{const l={service:u,version:d,request:p,outputFormat:m,typename:r.l3};return null!==s?(l.viewparams="subjectCode:"+s,null===a?c().get(n,{params:l}):c().get(n,{params:l,headers:a})):(l.viewparams="vatNumber:"+e+";businessName:"+t+";",null===a?c().get(n,{params:l}):c().get(n,{params:l,headers:a}))},f=(e,t,s,n,a,l)=>{const o={service:u,version:d,request:p,outputFormat:m,srsName:r.MO,srs:r.V5};return null!==s&&null!==n?(o.viewparams="subjects:"+e+";subjectType:"+t+";startDate:"+s+";endDate:"+n,o.typename=r.ZD):(o.viewparams="subjects:"+e+";subjectType:"+t,o.typename=r.FP),null===l?c().get(a,{params:o}):c().get(a,{params:o,headers:l})},g=(e,t,s,n,a,l)=>{const o={service:u,version:d,request:p,outputFormat:m,typename:r.Ph};return null!==s&&null!==n?(o.viewparams="cityCode:"+t+";property:"+e.property+";propertyType:"+e.propertyType+";startDate:"+s+";endDate:"+n,o.typename=r.Tu):(o.viewparams="cityCode:"+t+";property:"+e.property+";propertyType:"+e.propertyType,o.typename=r.Ph),null===l?c().get(a,{params:o}):c().get(a,{params:o,headers:l})};var y=s(32509),O=s(9890);const S=(e,t)=>{const s=e.url;let n=e.query;return n.format=t,c().get(s,{params:n,responseType:"blob",headers:e.headers})},C=()=>({activateCatastoOpenPanelEpic:(e,t)=>e.ofType(o.er).switchMap((()=>{const e=t.getState().maplayout.layout;return e.right=658,n.Observable.of(a("catastoOpen","enabled",!0,!0),l(e))})),deactivateCatastoOpenPanelEpic:e=>e.ofType(o.no).switchMap((()=>n.Observable.of((0,o.gx)(),a("catastoOpen","enabled",!1,!1)))),reducedCatastoOpenPanelEpic:e=>e.ofType(o.aj).switchMap((()=>n.Observable.of(a("catastoOpen","enabled",!1,!1)))),selectServiceEpic:e=>e.ofType(o.o2).switchMap((e=>e.service.value===r.uZ[0].id?n.Observable.of((0,o.gx)(),(0,o.hn)()):n.Observable.of((0,o.gx)()))),resumePreviousSearchResultsEpic:e=>e.ofType(o.h).switchMap((()=>n.Observable.of((0,o.AG)()))),reloadSearchResultsEpic:(e,t)=>e.ofType(o.MY).switchMap((()=>{var e;const s=t.getState();return n.Observable.of((0,y.p$)(null===(e=s.catastoOpen)||void 0===e?void 0:e.searchResults),(0,o._7)()).delay(500)})),loadCityDataEpic:(e,t)=>e.ofType(o.G$).switchMap((e=>{var s;const a=t.getState();let l=(null==e?void 0:e.citySearchTxt)||null;null!==l&&(l=l.replace(/[^\w\s]/gi,""),l=""===l?null:l);let i=(0,O.qM)(a).url;const h=null!=a&&null!==(s=a.security)&&void 0!==s&&s.token?{Authorization:"Bearer ".concat(a.security.token)}:null,b=null!=a&&a.catastoOpen.isTemporalSearchChecked&&null!=a&&a.catastoOpen.endDate?a.catastoOpen.endDate.toISOString().slice(0,10):null!=a&&a.catastoOpen.isHistoricalSearchChecked?(new Date).toISOString().slice(0,10):null;return i+=i.endsWith("/")?"ows/":"/ows/",n.Observable.defer((()=>((e,t,s,n)=>{const a={service:u,version:d,request:p,outputFormat:m};return null!==e?null!==t?(a.viewparams="endDate:"+t+";city:"+e,a.typename=r.su):(a.viewparams="city:"+e,a.typename=r.y2):null!==t?(a.viewparams="endDate:"+t,a.typename=r.su):a.typename=r.y2,null===n?c().get(s,{params:a}):c().get(s,{params:a,headers:n})})(l,b,i,h))).switchMap((e=>n.Observable.of((0,o.Zo)(e.data)))).catch((e=>n.Observable.of((0,o.Lx)(e.message))))})),updateSubjectFormLoadedTownEpic:(e,t)=>e.ofType(o.dP).switchMap((e=>{var s;const a=t.getState(),l=(null==e?void 0:e.birthPlaceTxt)||null;let i=(0,O.qM)(a).url;const h=null!=a&&null!==(s=a.security)&&void 0!==s&&s.token?{Authorization:"Bearer ".concat(a.security.token)}:null;return i+=i.endsWith("/")?"ows/":"/ows/",n.Observable.defer((()=>((e,t,s)=>{const n={service:u,version:d,request:p,outputFormat:m,typename:r.uG};return null!==e&&(n.viewparams="city:"+e),null===s?c().get(t,{params:n}):c().get(t,{params:n,headers:s})})(l,i,h))).switchMap((e=>n.Observable.of((0,o.Hj)(e.data)))).catch((e=>n.Observable.of((0,o.Lx)(e.message))))})),selectCityEpic:(e,t)=>e.ofType(o.hH).switchMap((e=>{var s;const a=null===(s=t.getState().catastoOpen)||void 0===s?void 0:s.cityChanged,l=e.city?e.city.value:null;return a?n.Observable.of((0,o.gx)(),(0,o.qD)(l)):n.Observable.of((0,o.qD)(l))})),loadSectionDataEpic:(e,t)=>e.ofType(o.vC).switchMap((e=>{var s;const a=t.getState(),l=e.cityCode?e.cityCode:null;let r=(0,O.qM)(a).url;const i=null!=a&&null!==(s=a.security)&&void 0!==s&&s.token?{Authorization:"Bearer ".concat(a.security.token)}:null,c=null!=a&&a.catastoOpen.isTemporalSearchChecked&&null!=a&&a.catastoOpen.endDate?a.catastoOpen.endDate.toISOString().slice(0,10):null!=a&&a.catastoOpen.isHistoricalSearchChecked?(new Date).toISOString().slice(0,10):null;return r+=r.endsWith("/")?"ows/":"/ows/",n.Observable.defer((()=>h(l,c,r,i))).switchMap((e=>n.Observable.of((0,o.d8)(e.data)))).catch((e=>n.Observable.of((0,o.Lx)(e.message))))})),selectSectionEpic:(e,t)=>e.ofType(o.UG).switchMap((()=>{var e;const s=t.getState(),a=null===(e=s.catastoOpen)||void 0===e?void 0:e.sectionChanged,l=(0,O.TB)(s),r=(0,O.iL)(s),i=l?r.codice:s.catastoOpen.selectedCity.code;return a?n.Observable.of((0,o.gx)(),(0,o.yE)(i)):n.Observable.of((0,o.yE)(i))})),loadSheetDataEpic:(e,t)=>e.ofType(o.yn).switchMap((e=>{var s,a;const l=t.getState(),i=(null==e?void 0:e.cityCode)||null;let h=(0,O.qM)(l).url;const b=null!=l&&null!==(s=l.security)&&void 0!==s&&s.token?{Authorization:"Bearer ".concat(l.security.token)}:null,v=(null===(a=l.catastoOpen)||void 0===a?void 0:a.selectedSection)||null;return h+=h.endsWith("/")?"ows/":"/ows/",n.Observable.defer((()=>((e,t,s,n)=>{const a={service:u,version:d,request:p,outputFormat:m,srsName:r.MO,srs:r.V5};return a.viewparams="sectionCode:"+t+";cityCode:"+e,a.typename=r.We,null===n?c().get(s,{params:a}):c().get(s,{params:a,headers:n})})(i,null==v?void 0:v.value,h,b))).switchMap((e=>n.Observable.of((0,o.y)(e.data)))).catch((e=>n.Observable.of((0,o.Lx)(e.message))))})),selectSheetEpic:(e,t)=>e.ofType(o.D2).switchMap((()=>{var e,s,a,l,r;const i=t.getState(),c=(0,O.TB)(i),u=(0,O.iL)(i),d=c?u.codice:null===(e=i.catastoOpen)||void 0===e||null===(s=e.selectedCity)||void 0===s?void 0:s.code,p=null===(a=i.catastoOpen)||void 0===a||null===(l=a.selectedSheet)||void 0===l?void 0:l.number;return(null===(r=i.catastoOpen)||void 0===r?void 0:r.sheetChanged)?n.Observable.of((0,o.gx)(),(0,o.hR)(d,p),(0,o.Q)(d,p)):n.Observable.of((0,o.hR)(d,p),(0,o.Q)(d,p))})),loadLandDataEpic:(e,t)=>e.ofType(o.y1).switchMap((e=>{var s;const a=t.getState(),l=(null==e?void 0:e.cityCode)||null,i=(null==e?void 0:e.sheetNumber)||null;let h=(0,O.qM)(a).url;const b=null!=a&&null!==(s=a.security)&&void 0!==s&&s.token?{Authorization:"Bearer ".concat(a.security.token)}:null,v=a.catastoOpen.selectedSheet.feature.properties.section,f=null!=a&&a.catastoOpen.isTemporalSearchChecked&&null!=a&&a.catastoOpen.startDate?(0,r.h9)(a.catastoOpen.startDate).toISOString().slice(0,10):null!=a&&a.catastoOpen.isHistoricalSearchChecked?"0001-01-01":null,g=null!=a&&a.catastoOpen.isTemporalSearchChecked&&null!=a&&a.catastoOpen.endDate?a.catastoOpen.endDate.toISOString().slice(0,10):null!=a&&a.catastoOpen.isHistoricalSearchChecked?(new Date).toISOString().slice(0,10):null;return h+=h.endsWith("/")?"ows/":"/ows/",n.Observable.defer((()=>((e,t,s,n,a,l,o)=>{const i={service:u,version:d,request:p,outputFormat:m,srsName:r.MO,srs:r.V5};return null!==n&&null!==a?(i.viewparams="cityCode:"+e+";citySheet:"+t+";sectionCode:"+s+";startDate:"+n+";endDate:"+a,i.typename=r.mG):(i.viewparams="cityCode:"+e+";citySheet:"+t+";sectionCode:"+s,i.typename=r.NR),null===o?c().get(l,{params:i}):c().get(l,{params:i,headers:o})})(l,i,v,f,g,h,b))).switchMap((e=>n.Observable.of((0,o.mx)(e.data)))).catch((e=>n.Observable.of((0,o.Lx)(e.message))))})),selectLandEpic:(e,t)=>e.ofType(o.TK).switchMap((()=>{var e;return(null===(e=t.getState().catastoOpen)||void 0===e?void 0:e.landChanged)?n.Observable.of((0,o.gx)()):n.Observable.empty()})),loadBuildingDataEpic:(e,t)=>e.ofType(o.zY).switchMap((e=>{var s;const a=t.getState(),l=(null==e?void 0:e.cityCode)||null,i=(null==e?void 0:e.sheetNumber)||null;let h=(0,O.qM)(a).url;const b=null!=a&&null!==(s=a.security)&&void 0!==s&&s.token?{Authorization:"Bearer ".concat(a.security.token)}:null,v=a.catastoOpen.selectedSheet.feature.properties.section,f=null!=a&&a.catastoOpen.isTemporalSearchChecked&&null!=a&&a.catastoOpen.startDate?(0,r.h9)(a.catastoOpen.startDate).toISOString().slice(0,10):null!=a&&a.catastoOpen.isHistoricalSearchChecked?"0001-01-01":null,g=null!=a&&a.catastoOpen.isTemporalSearchChecked&&null!=a&&a.catastoOpen.endDate?a.catastoOpen.endDate.toISOString().slice(0,10):null!=a&&a.catastoOpen.isHistoricalSearchChecked?(new Date).toISOString().slice(0,10):null;return h+=h.endsWith("/")?"ows/":"/ows/",n.Observable.defer((()=>((e,t,s,n,a,l,o)=>{const i={service:u,version:d,request:p,outputFormat:m,typename:r.uO,srsName:r.MO,srs:r.V5};return null!==n&&null!==a?(i.viewparams="cityCode:"+e+";citySheet:"+t+";sectionCode:"+s+";startDate:"+n+";endDate:"+a,i.typename=r._5):(i.viewparams="cityCode:"+e+";citySheet:"+t+";sectionCode:"+s,i.typename=r.uO),null===o?c().get(l,{params:i}):c().get(l,{params:i,headers:o})})(l,i,v,f,g,h,b))).switchMap((e=>n.Observable.of((0,o.Ni)(e.data)))).catch((e=>n.Observable.of((0,o.Lx)(e.message))))})),selectBuildingEpic:(e,t)=>e.ofType(o.Dh).switchMap((()=>{var e;return(null===(e=t.getState().catastoOpen)||void 0===e?void 0:e.buildingChanged)?n.Observable.of((0,o.gx)()):n.Observable.empty()})),selectSubjectFilterEpic:(e,t)=>e.ofType(o.bj).switchMap((()=>{var e,s;const a=t.getState(),l=null==a||null===(e=a.catastoOpen)||void 0===e||null===(s=e.selectedService)||void 0===s?void 0:s.id;return n.Observable.of((0,o.LF)(l))})),loadNaturalSubjectDataEpic:(e,t)=>e.ofType(o.WV).switchMap((e=>{var s;const a=t.getState(),l=e.subjectForm,i=null!=l&&l.subjectCode?l.subjectCode:null,c=null!=l&&l.fiscalCode?"'"+l.fiscalCode+"'":null,u=null!=l&&l.firstName?"'"+l.firstName.trim()+"'":null,d=null!=l&&l.lastName?"'"+l.lastName.replace("'","`").trim()+"'":null,p=null!=l&&l.birthDate?"'"+(0,r.h9)(l.birthDate).toISOString().slice(0,10)+"'":null,m=null!=l&&l.birthPlace?l.birthPlace.value:null;let h=(0,O.qM)(a).url;const v=null!=a&&null!==(s=a.security)&&void 0!==s&&s.token?{Authorization:"Bearer ".concat(a.security.token)}:null;if(h+=h.endsWith("/")?"ows/":"/ows/",(0,O.E6)(a)){const e=(0,O.FX)(a);let t={headers:v,pathName:r.ZI,url:e.endsWith("/")?"".concat(e).concat(r.ZI):"".concat(e,"/").concat(r.ZI),filename:"listapersonefisiche"},s={};return null!==i&&(s.codicesoggetto=i),null!==c&&(s.codicefiscale=l.fiscalCode),null!==u&&(s.nome=l.firstName.trim()),null!==d&&(s.cognome=l.lastName.trim()),null!==p&&(s.datadinascita=(0,r.h9)(l.birthDate).toISOString().slice(0,10)),null!==m&&(s.comunenascita=m),t.query=s,n.Observable.defer((()=>b(u,d,p,m,c,i,h,v))).switchMap((e=>n.Observable.of((0,o.zD)(e.data),(0,o.go)(t)))).catch((e=>n.Observable.of((0,o.Lx)(e.message))))}return n.Observable.defer((()=>b(u,d,p,m,c,i,h,v))).switchMap((e=>n.Observable.of((0,o.zD)(e.data)))).catch((e=>n.Observable.of((0,o.Lx)(e.message))))})),loadedNaturalSubjectDataEpic:e=>e.ofType(o.iL).switchMap((e=>n.Observable.of((0,y.p$)(null==e?void 0:e.naturalSubjects)))),loadLegalSubjectDataEpic:(e,t)=>e.ofType(o.F8).switchMap((e=>{var s;const a=t.getState(),l=e.subjectForm,i=null!=l&&l.identificationCode?l.identificationCode:null,c=null!=l&&l.vatNumber?"'"+l.vatNumber+"'":null,u=null!=l&&l.businessName?"'"+l.businessName.trim()+"'":null,d=(0,O.qM)(a),p=null!=a&&null!==(s=a.security)&&void 0!==s&&s.token?{Authorization:"Bearer ".concat(a.security.token)}:null;let m=d.url;if(m+=m.endsWith("/")?"ows/":"/ows/",(0,O.E6)(a)){const e=(0,O.FX)(a);let t={headers:p,pathName:r.iA,url:e.endsWith("/")?"".concat(e).concat(r.iA):"".concat(e,"/").concat(r.iA),filename:"listapersonegiuridiche"},s={};return null!==i&&(s.codicesoggetto=i),null!==c&&(s.partitaiva=l.vatNumber),null!==u&&(s.denominazione=l.businessName.trim()),t.query=s,n.Observable.defer((()=>v(c,u,i,m,p))).switchMap((e=>n.Observable.of((0,o.Fk)(e.data),(0,o.go)(t)))).catch((e=>n.Observable.of((0,o.Lx)(e.message))))}return n.Observable.defer((()=>v(c,u,i,m,p))).switchMap((e=>n.Observable.of((0,o.Fk)(e.data)))).catch((e=>n.Observable.of((0,o.Lx)(e.message))))})),loadedLegalSubjectDataEpic:e=>e.ofType(o.u_).switchMap((e=>n.Observable.of((0,y.p$)(null==e?void 0:e.legalSubjects)))),loadSubjectPropertyDataEpic:(e,t)=>e.ofType(o.xC).switchMap((e=>{var s;const a=t.getState();let l=(0,O.qM)(a).url;const i=null!=a&&null!==(s=a.security)&&void 0!==s&&s.token?{Authorization:"Bearer ".concat(a.security.token)}:null;l+=l.endsWith("/")?"ows/":"/ows/";const c=null!=a&&a.catastoOpen.isTemporalSearchChecked&&null!=a&&a.catastoOpen.startDate?(0,r.h9)(a.catastoOpen.startDate).toISOString().slice(0,10):null!=a&&a.catastoOpen.isHistoricalSearchChecked?"0001-01-01":null,u=null!=a&&a.catastoOpen.isTemporalSearchChecked&&null!=a&&a.catastoOpen.endDate?a.catastoOpen.endDate.toISOString().slice(0,10):null!=a&&a.catastoOpen.isHistoricalSearchChecked?(new Date).toISOString().slice(0,10):null;if((0,O.E6)(a)){var d;const t=(0,O.FX)(a);let s={headers:i,pathName:r.Zm,url:t.endsWith("/")?"".concat(t).concat(r.Zm):"".concat(t,"/").concat(r.Zm),filename:"listaimmobili"},p={};return p.codicesoggetto=null==e||null===(d=e.subject)||void 0===d?void 0:d.subjects,p.flagricercastorica=!(null==a||!a.catastoOpen.isHistoricalSearchChecked),s.query=p,n.Observable.defer((()=>{var t,s;return f(null==e||null===(t=e.subject)||void 0===t?void 0:t.subjects,null==e||null===(s=e.subject)||void 0===s?void 0:s.subjectType,c,u,l,i)})).switchMap((e=>n.Observable.of((0,o.Qj)(e.data),(0,o.go)(s)))).catch((e=>n.Observable.of((0,o.Lx)(e.message))))}return n.Observable.defer((()=>{var t,s;return f(null==e||null===(t=e.subject)||void 0===t?void 0:t.subjects,null==e||null===(s=e.subject)||void 0===s?void 0:s.subjectType,c,u,l,i)})).switchMap((e=>n.Observable.of((0,o.Qj)(e.data)))).catch((e=>n.Observable.of((0,o.Lx)(e.message))))})),loadedSubjectPropertyDataEpic:e=>e.ofType(o.qT).switchMap((e=>n.Observable.of((0,y.p$)(null==e?void 0:e.subjectProperties)))),loadLayerEpic:e=>e.ofType(o.S5).switchMap((e=>n.Observable.of((0,o.gx)(),(0,o.$L)(null==e?void 0:e.layer)))),addLayerEpic:(e,t)=>e.ofType(o.sS).switchMap((e=>{const s=t.getState(),a=null==e?void 0:e.layer;if(void 0===a)return n.Observable.empty();const o=s.maplayout.layout;return o.right=658,n.Observable.of(function(e){return{type:"ADD_LAYER",layer:e,foreground:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]}}(a),l(o),{type:"ZOOM_TO_EXTENT",extent:a.bbox.bounds,crs:a.bbox.crs,maxZoom:void 0,options:null})})),removeLayerEpic:(e,t)=>e.ofType(o.fG).switchMap((()=>{var e;const s=t.getState(),a=null==s||null===(e=s.catastoOpen)||void 0===e?void 0:e.layer;return n.Observable.of({type:"REMOVE_LAYER",layerId:null==a?void 0:a.id})})),loadBuildingDetailDataEpic:(e,t)=>e.ofType(o.Pi).switchMap((()=>{var e,s,a,l,i,h,b,v;const f=t.getState(),g=(0,O.TB)(f),y=(0,O.iL)(f),S=g?y.codice:null===(e=f.catastoOpen)||void 0===e||null===(s=e.selectedCity)||void 0===s?void 0:s.code,C=null===(a=f.catastoOpen)||void 0===a||null===(l=a.selectedBuilding)||void 0===l?void 0:l.sheet,T=null===(i=f.catastoOpen)||void 0===i||null===(h=i.selectedBuilding)||void 0===h?void 0:h.number,E=null!=f&&null!==(b=f.catastoOpen)&&void 0!==b&&b.immobileCode?f.catastoOpen.immobileCode:null;let A=(0,O.qM)(f).url;const w=null!=f&&null!==(v=f.security)&&void 0!==v&&v.token?{Authorization:"Bearer ".concat(f.security.token)}:null,P=null!=f&&f.catastoOpen.isTemporalSearchChecked&&null!=f&&f.catastoOpen.startDate?(0,r.h9)(f.catastoOpen.startDate).toISOString().slice(0,10):null!=f&&f.catastoOpen.isHistoricalSearchChecked?"0001-01-01":null,D=null!=f&&f.catastoOpen.isTemporalSearchChecked&&null!=f&&f.catastoOpen.endDate?f.catastoOpen.endDate.toISOString().slice(0,10):null!=f&&f.catastoOpen.isHistoricalSearchChecked?(new Date).toISOString().slice(0,10):null;return A+=A.endsWith("/")?"ows/":"/ows/",n.Observable.defer((()=>((e,t,s,n,a,l,o,i)=>{const h={service:u,version:d,request:p,outputFormat:m};return null===n?null!==a&&null!==l?(h.viewparams="cityCode:"+e+";citySheet:"+t+";buildingNumber:"+s+";startDate:"+a+";endDate:"+l,h.typename=r.fs):(h.viewparams="cityCode:"+e+";citySheet:"+t+";buildingNumber:"+s,h.typename=r.ui):null!==a&&null!==l?(h.viewparams="cityCode:"+e+";citySheet:"+t+";buildingNumber:"+s+";immobileCode:"+n+";startDate:"+a+";endDate:"+l,h.typename=r.tE):(h.viewparams="cityCode:"+e+";citySheet:"+t+";buildingNumber:"+s+";immobileCode:"+n,h.typename=r.Ql),null===i?c().get(o,{params:h}):c().get(o,{params:h,headers:i})})(S,C,T,E,P,D,A,w))).switchMap((e=>n.Observable.of((0,o.Fb)(e.data)))).catch((e=>n.Observable.of((0,o.Lx)(e.message))))})),loadedBuildingDetailDataEpic:e=>e.ofType(o.L3).switchMap((e=>n.Observable.of((0,y.p$)(null==e?void 0:e.buildingDetails)))),loadLandDetailDataEpic:(e,t)=>e.ofType(o.n6).switchMap((()=>{var e,s,a,l,i,h,b,v,f;const g=t.getState(),y=(0,O.TB)(g),S=(0,O.iL)(g),C=y?S.codice:null===(e=g.catastoOpen)||void 0===e||null===(s=e.selectedCity)||void 0===s?void 0:s.code,T=null===(a=g.catastoOpen)||void 0===a||null===(l=a.selectedLand)||void 0===l?void 0:l.sheet,E=null===(i=g.catastoOpen)||void 0===i||null===(h=i.selectedLand)||void 0===h?void 0:h.number,A=null===(b=g.catastoOpen)||void 0===b||null===(v=b.selectedLand)||void 0===v?void 0:v.section;let w=(0,O.qM)(g).url;const P=null!=g&&null!==(f=g.security)&&void 0!==f&&f.token?{Authorization:"Bearer ".concat(g.security.token)}:null,D=null!=g&&g.catastoOpen.isTemporalSearchChecked&&null!=g&&g.catastoOpen.startDate?(0,r.h9)(g.catastoOpen.startDate).toISOString().slice(0,10):null!=g&&g.catastoOpen.isHistoricalSearchChecked?"0001-01-01":null,x=null!=g&&g.catastoOpen.isTemporalSearchChecked&&null!=g&&g.catastoOpen.endDate?g.catastoOpen.endDate.toISOString().slice(0,10):null!=g&&g.catastoOpen.isHistoricalSearchChecked?(new Date).toISOString().slice(0,10):null;return w+=w.endsWith("/")?"ows/":"/ows/",n.Observable.defer((()=>((e,t,s,n,a,l,o,i)=>{const h={service:u,version:d,request:p,outputFormat:m};return null!==a&&null!==l?(h.viewparams="cityCode:"+e+";citySheet:"+t+";landNumber:"+s+";startDate:"+a+";endDate:"+l,h.typename=r.DN):(h.viewparams="cityCode:"+e+";citySheet:"+t+";landNumber:"+s+";sectionCode:"+n,h.typename=r.EQ),null===i?c().get(o,{params:h}):c().get(o,{params:h,headers:i})})(C,T,E,A,D,x,w,P))).switchMap((e=>n.Observable.of((0,o.XM)(e.data)))).catch((e=>n.Observable.of((0,o.Lx)(e.message))))})),loadedLandDetailDataEpic:e=>e.ofType(o.Il).switchMap((e=>n.Observable.of((0,y.p$)(null==e?void 0:e.landDetails)))),loadPropertyOwnerDataEpic:(e,t)=>e.ofType(o.YU).switchMap((e=>{var s,a,l;const i=t.getState(),c=(0,O.TB)(i),u=(0,O.iL)(i),d=c?u.codice:null===(s=i.catastoOpen)||void 0===s||null===(a=s.selectedCity)||void 0===a?void 0:a.code,p=null==e?void 0:e.property;let m=(0,O.qM)(i).url;const h=null!=i&&null!==(l=i.security)&&void 0!==l&&l.token?{Authorization:"Bearer ".concat(i.security.token)}:null,b=null!=i&&i.catastoOpen.isTemporalSearchChecked&&null!=i&&i.catastoOpen.startDate?(0,r.h9)(i.catastoOpen.startDate).toISOString().slice(0,10):null!=i&&i.catastoOpen.isHistoricalSearchChecked?"0001-01-01":null,v=null!=i&&i.catastoOpen.isTemporalSearchChecked&&null!=i&&i.catastoOpen.endDate?i.catastoOpen.endDate.toISOString().slice(0,10):null!=i&&i.catastoOpen.isHistoricalSearchChecked?(new Date).toISOString().slice(0,10):null;if(m+=m.endsWith("/")?"ows/":"/ows/",(0,O.E6)(i)){const t=(0,O.FX)(i);let s={headers:h,pathName:r.Ul,url:t.endsWith("/")?"".concat(t).concat(r.Ul):"".concat(t,"/").concat(r.Ul),filename:"listaimmobili"},a={};return a.codiceimmobile=null==e?void 0:e.property.property,a.tipoimmobile=null==e?void 0:e.property.propertyType,a.flagricercastorica=!(null==i||!i.catastoOpen.isHistoricalSearchChecked),s.query=a,n.Observable.defer((()=>g(p,d,b,v,m,h))).switchMap((e=>n.Observable.of((0,o.IX)(e.data),(0,o.go)(s)))).catch((e=>n.Observable.of((0,o.Lx)(e.message))))}return n.Observable.defer((()=>g(p,d,b,v,m,h))).switchMap((e=>n.Observable.of((0,o.IX)(e.data)))).catch((e=>n.Observable.of((0,o.Lx)(e.message))))})),loadedPropertyOwnerDataEpic:e=>e.ofType(o.p5).switchMap((e=>n.Observable.of((0,y.p$)(null==e?void 0:e.propertyOwners)))),loadToponymEpic:(e,t)=>e.ofType(o.dO).switchMap((e=>{var s;const a=t.getState();let l=(null==e?void 0:e.toponymTxt)||null;null!==l&&(l=l.replace(/[^\w\s]/gi,""));let i=(0,O.qM)(a).url;const h=null!=a&&null!==(s=a.security)&&void 0!==s&&s.token?{Authorization:"Bearer ".concat(a.security.token)}:null;return i+=i.endsWith("/")?"ows/":"/ows/",n.Observable.defer((()=>((e,t,s)=>{const n={service:u,version:d,request:p,outputFormat:m};return null!==e&&(n.viewparams="toponym:"+e),n.typename=r.Mh,null===s?c().get(t,{params:n}):c().get(t,{params:n,headers:s})})(l,i,h))).switchMap((e=>n.Observable.of((0,o.gA)(e.data)))).catch((e=>n.Observable.of((0,o.Lx)(e.message))))})),loadAddressEpic:(e,t)=>e.ofType(o.Cy).debounceTime(3e3).switchMap((e=>{var s,a,l,i;const h=t.getState(),b=(0,O.qM)(h),v=(0,O.TB)(h),f=(0,O.iL)(h);if((0,O.vI)(h))return n.Observable.empty();const g=v?f.codice:null===(s=h.catastoOpen)||void 0===s||null===(a=s.selectedCity)||void 0===a?void 0:a.code;let y=(null==e?void 0:e.addressTxt)||null;if(null===y)return n.Observable.empty();y=y.replace(/[^a-zA-Z0-9]/g,"");const S=null!=h&&null!==(l=h.catastoOpen)&&void 0!==l&&l.selectedToponym?h.catastoOpen.selectedToponym.value:0;let C=b.url;const T=null!=h&&null!==(i=h.security)&&void 0!==i&&i.token?{Authorization:"Bearer ".concat(h.security.token)}:null;return C+=C.endsWith("/")?"ows/":"/ows/",n.Observable.defer((()=>((e,t,s,n,a)=>{const l={service:u,version:d,request:p,outputFormat:m,typename:r.fv};return l.viewparams=null!==e||""!==e?"address:"+e+";toponimo:"+t+";cityCode:"+s:"toponimo:"+t+";cityCode:"+s,null===a?c().get(n,{params:l}):c().get(n,{params:l,headers:a})})(y,S,g,C,T))).switchMap((e=>n.Observable.of((0,o.fk)(e.data)))).catch((e=>n.Observable.of((0,o.Lx)(e.message))))})),loadImmobileEpic:(e,t)=>e.ofType(o.Yq).switchMap((e=>{var s,a,l,i,h,b,v,f,g,y,S;const C=t.getState();let T=(0,O.qM)(C).url;const E=null!=C&&null!==(s=C.security)&&void 0!==s&&s.token?{Authorization:"Bearer ".concat(C.security.token)}:null,A=null!=C&&C.catastoOpen.isTemporalSearchChecked&&null!=C&&C.catastoOpen.startDate?(0,r.h9)(C.catastoOpen.startDate).toISOString().slice(0,10):null!=C&&C.catastoOpen.isHistoricalSearchChecked?"0001-01-01":null,w=null!=C&&C.catastoOpen.isTemporalSearchChecked&&null!=C&&C.catastoOpen.endDate?C.catastoOpen.endDate.toISOString().slice(0,10):null!=C&&C.catastoOpen.isHistoricalSearchChecked?(new Date).toISOString().slice(0,10):null;T+=T.endsWith("/")?"ows/":"/ows/";const P=e.filterType,D=(0,O.TB)(C),x=(0,O.iL)(C),_=D?x.codice:null===(a=C.catastoOpen)||void 0===a||null===(l=a.selectedCity)||void 0===l?void 0:l.code;switch(P){case r.uZ[0].filters[1].id:const e=null==C||null===(i=C.catastoOpen)||void 0===i||null===(h=i.selectedToponym)||void 0===h?void 0:h.value,t=null==C||null===(b=C.catastoOpen)||void 0===b||null===(v=b.selectedAddress)||void 0===v?void 0:v.value,s=null==C||null===(f=C.catastoOpen)||void 0===f?void 0:f.houseNumber;return n.Observable.defer((()=>((e,t,s,n,a,l,o,i)=>{const h={service:u,version:d,request:p,outputFormat:m,srsName:r.MO,srs:r.V5};return h.viewparams="cityCode:"+e+";toponymCode:"+t+";addressName:"+s+";houseNumber:"+n,null!==a&&null!==l?(h.viewparams+=";startDate:"+a+";endDate:"+l,h.typename=r.gf):h.typename=r.Ac,null===i?c().get(o,{params:h,timeout:5e5}):c().get(o,{params:h,headers:i,timeout:5e5})})(_,e,t,s,A,w,T,E))).switchMap((e=>n.Observable.of((0,o.Ni)(e.data)))).catch((e=>n.Observable.of((0,o.Lx)(e.message))));case r.uZ[0].filters[2].id:const a=null==C||null===(g=C.catastoOpen)||void 0===g?void 0:g.immobileCode;switch(null==C||null===(y=C.catastoOpen)||void 0===y||null===(S=y.selectedImmType)||void 0===S?void 0:S.value){case r.uZ[0].filters[0].filters[0].id:return n.Observable.defer((()=>((e,t,s,n,a,l)=>{const o={service:u,version:d,request:p,outputFormat:m,srsName:r.MO,srs:r.V5};return o.viewparams="cityCode:"+e+";immobileCode:"+t,null!==n&&null!==s?(o.viewparams+=";startDate:"+n+";endDate:"+s,o.typename=r.aG):o.typename=r.Gt,null===l?c().get(a,{params:o}):c().get(a,{params:o,headers:l})})(_,a,A,w,T,E))).switchMap((e=>n.Observable.of((0,o.mx)(e.data)))).catch((e=>n.Observable.of((0,o.Lx)(e.message))));case r.uZ[0].filters[0].filters[1].id:return n.Observable.defer((()=>((e,t,s,n,a,l)=>{const o={service:u,version:d,request:p,outputFormat:m,srsName:r.MO,srs:r.V5};return o.viewparams="cityCode:"+e+";immobileCode:"+t,null!==n&&null!==s?(o.viewparams+=";startDate:"+n+";endDate:"+s,o.typename=r.TU):o.typename=r.oO,null===l?c().get(a,{params:o}):c().get(a,{params:o,headers:l})})(_,a,A,w,T,E))).switchMap((e=>n.Observable.of((0,o.Ni)(e.data)))).catch((e=>n.Observable.of((0,o.Lx)(e.message))));default:return n.Observable.empty()}default:return n.Observable.empty()}})),loadSectionDataEpicTwin:(e,t)=>e.ofType(o.NJ).switchMap((e=>{var s;const a=t.getState();if(e.serviceImmType.value!==r.uZ[0].filters[0].id)return n.Observable.empty();if(!(0,O.TB)(a))return n.Observable.empty();const l=(0,O.iL)(a);let i=(0,O.qM)(a).url;const c=null!=a&&null!==(s=a.security)&&void 0!==s&&s.token?{Authorization:"Bearer ".concat(a.security.token)}:null,u=null!=a&&a.catastoOpen.isTemporalSearchChecked&&null!=a&&a.catastoOpen.endDate?a.catastoOpen.endDate.toISOString().slice(0,10):null!=a&&a.catastoOpen.isHistoricalSearchChecked?(new Date).toISOString().slice(0,10):null;return i+=i.endsWith("/")?"ows/":"/ows/",n.Observable.defer((()=>h(l.codice,u,i,c))).switchMap((e=>n.Observable.of((0,o.d8)(e.data),(0,o.oM)({value:"_",label:"TUTTE LE SEZIONI",name:"_"})))).catch((e=>n.Observable.of((0,o.Lx)(e.message))))})),startDownloadVisuraEpic:(e,t)=>e.ofType(o.U0).switchMap((e=>{const s=t.getState(),a=(0,O.o4)(s),l=e.fileType;return n.Observable.defer((()=>S(a,l))).switchMap((e=>n.Observable.of((0,o.s4)(l,e.data)))).catch((e=>n.Observable.of((0,o.mv)(l,e))))})),endDownloadVisuraEpic:(e,t)=>e.ofType(o.IO).switchMap((e=>{const s=t.getState(),a=(0,O.o4)(s),l=e.blob,o="".concat((new Date).toISOString(),"_").concat(a.filename,".").concat(e.fileType),r=window.URL.createObjectURL(l);let i=document.createElement("a");return i.href=r,i.download=o,i.click(),n.Observable.empty()})),startDownloadVisuraImSingolaEpic:(e,t)=>e.ofType(o.TD).switchMap((e=>{var s;const a=t.getState(),l=null!=a&&null!==(s=a.security)&&void 0!==s&&s.token?{Authorization:"Bearer ".concat(a.security.token)}:null,i=(0,O.FX)(a);let c={headers:l,pathName:r.Ul,url:i.endsWith("/")?"".concat(i).concat(r.Ul):"".concat(i,"/").concat(r.Ul),filename:"visura"},u={};return u.codiceimmobile=null==e?void 0:e.immobile,u.tipoimmobile="Fabbricati"===(null==e?void 0:e.propertyType)?"F":"T",u.flagricercastorica=!(null==a||!a.catastoOpen.isHistoricalSearchChecked),c.query=u,n.Observable.defer((()=>S(c,"pdf"))).switchMap((e=>n.Observable.of((0,o.nq)(e.data)))).catch((e=>n.Observable.of((0,o.fN)("pdf",e))))})),endDownloadVisuraImSingoleEpic:e=>e.ofType(o.Ei).switchMap((e=>{const t=e.blob,s="".concat((new Date).toISOString(),"_visura.pdf"),a=window.URL.createObjectURL(t);let l=document.createElement("a");return l.href=a,l.download=s,l.click(),n.Observable.of((0,o._h)())}))})},91213:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var n=s(49977),a=s(32509);const l=()=>({resultGridFilterRowsEpic:e=>e.ofType(a.Nu).switchMap((()=>n.Observable.of((0,a.fW)())))})},73908:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Lt});var n=s(19426),a=s(24852),l=s.n(a),o=s(7066),r=s(68195),i=s(77580),c=s.n(i);function u(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const d=r.FormattedMessage;class p extends l().Component{constructor(){super(...arguments),u(this,"renderFormattedMsg",(e=>{let{msgId:t,msgParams:s,children:n}=e;return n&&"function"==typeof n?l().createElement(d,{id:t,values:s},(e=>n(e))):l().createElement(d,{id:t,values:s})})),u(this,"renderMsg",(e=>{let{msgId:t,children:s}=e;return s&&"function"==typeof s?s(t):l().createElement("span",null,t||"")}))}render(){return this.context.intl?this.renderFormattedMsg(this.props):this.renderMsg(this.props)}}u(p,"propTypes",{msgId:c().string.isRequired,msgParams:c().object}),u(p,"contextTypes",{intl:c().object});const m=p;var h=s(6980);const b={BurgerMenu:{name:"CatastoOpen",position:1,text:l().createElement(m,{msgId:"extension.catastoOpenPanel.title"}),icon:l().createElement(o.gG,{glyph:"book"}),action:h.Tb.bind(null),doNotHide:!0},Toolbar:{name:"CatastoOpen",position:1,text:l().createElement(o.gG,{glyph:"book"}),tooltip:"extension.catastoOpenPanel.title",doNotHide:!0,alwaysVisible:!0,action:h.Tb.bind(null),selector:e=>{var t;return{style:null!=e&&null!==(t=e.catastoOpen)&&void 0!==t&&t.reduced?{color:"#a87600",backgroundColor:"#ffffff"}:{display:"none"}}}}};var v=s(71703),f=s(57424),g=s(57801);const y=e=>{let{id:t,children:s,header:n,footer:a,columns:o,height:r,style:i={},className:c,bodyClassName:u="ms2-border-layout-body"}=e;return l().createElement("div",{id:t,className:c,style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"hidden",...i}},n,l().createElement("div",{className:u,style:{display:"flex",flex:1,overflowY:"auto"}},l().createElement("main",{className:"ms2-border-layout-content",style:{flex:1,overflowX:"hidden"}},r?l().createElement("div",{style:{height:r}},s):s),r?l().createElement("div",{style:{height:r}},o):o),a)};var O=s(67076),S=s(43078),C=s.n(S);function T(){return T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},T.apply(this,arguments)}const E=(A=o.zx,l().forwardRef(((e,t)=>{let{disabled:s,className:n,onClick:a=(()=>{}),...o}=e;return l().createElement(A,T({ref:t,className:s?C()("disabled",n):n,onClick:function(){s||a(...arguments)}},o),o.children)})));var A;const w=e=>{let{position:t="right",onClose:s,bsStyle:n="default",title:a="",additionalRows:r,onReduce:i=(()=>{})}=e;const c=s?l().createElement(E,{key:"ms-header-close",className:"square-button ms-close",onClick:s,bsStyle:n},l().createElement(o.gG,{glyph:"1-close"})):null,u=l().createElement(E,{key:"ms-header-glyph",className:"square-button",bsStyle:n,onClick:i},l().createElement(o.gG,{glyph:"chevron-right"})),d="left"===t?[c,u]:[u,c];return l().createElement(o.rj,{fluid:!0,style:{width:"100%"},className:"ms-header ms-"+n},l().createElement(o.X2,null,l().createElement(o.JX,{xs:2},d[0]),l().createElement(o.JX,{xs:8},l().createElement("h4",null,a)),l().createElement(o.JX,{xs:2},d[1])),r)},P=(0,O.withState)("fullscreen","onFullscreen",!1)((e=>{let{fluid:t,className:s="",fullscreen:n=!1,position:a,open:o,size:r=550,style:i={},zIndex:c=1030,onClose:u,bsStyle:d,title:p,showFullscreen:m=!1,glyph:h,header:b,footer:v,children:f,onFullscreen:O=(()=>{}),fixed:S=!1,resizable:C=!1,hideHeader:T,onReduce:E=(()=>{})}=e;return l().createElement("div",{className:"ms-side-panel "+(S?"":"ms-absolute-dock ")+(C?"":"react-dock-no-resize ")+s},l().createElement(g.Z,{fluid:t||n,position:a,dimMode:"none",isVisible:o,size:n?1:r,dockStyle:i,zIndex:c},l().createElement(y,{header:!T&&o&&l().createElement(w,{position:a,onClose:u,bsStyle:d,title:p,fullscreen:n,showFullscreen:m,glyph:h,additionalRows:b,onFullscreen:O,onReduce:E}),footer:o&&v},o&&f)))}));var D=s(6607),x=s(59154);function _(){return _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},_.apply(this,arguments)}const I=e=>t=>l().createElement(e,_({},t,{container:document.querySelector("."+(x.ZP.getConfigProp("themePrefix")||"ms2")+" > div")||document.body})),j=I(o.Ox);var N=s(8073),R=s.n(N);const k=(0,O.branch)((function(){let{tooltip:e,tooltipId:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e||t}),(e=>function(){let{tooltip:t,tooltipId:s,tooltipPosition:n="top",tooltipTrigger:a,keyProp:r,idDropDown:i,args:c,...u}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l().createElement(j,{trigger:a,id:i,key:r,placement:n,overlay:l().createElement(o.u,{id:"tooltip-"+r},s?l().createElement(m,{msgId:s,msgParams:{data:c}}):t)},l().createElement(e,u))}),(e=>t=>l().createElement(e,R()(t,["tooltipId","tooltip","tooltipPosition"]),t.children)));var L=s(9890),B=s(71129),F=s(72115);function z(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const M=k(E);class V extends l().Component{render(){var e;return this.props.active?l().createElement("div",null,l().createElement(o.X2,{className:"inline-form filter-field-fixed-row"},l().createElement(o.JX,{xs:6},l().createElement(m,{msgId:this.props.title})),l().createElement(o.JX,{xs:this.props.zoomActive||this.props.detailActive?3:6},this.props.isDisabled?l().createElement(B.ZP,{value:this.props.options[0],disabled:!0}):this.props.showNoResult||(null===(e=this.props.options)||void 0===e?void 0:e.length)>0||this.props.isLoading?l().createElement(B.ZP,{style:this.props.selectStyle,clearable:this.props.clearable,searchable:this.props.searchable,isLoading:this.props.isLoading,placeholder:l().createElement(m,{msgId:this.props.placeholder}),noResultsText:l().createElement(m,{msgId:this.props.noResultsText}),options:this.props.options,onInputChange:this.props.onInputChange,onChange:this.props.onChange,value:this.props.value}):l().createElement(m,{msgId:this.props.noResultsText})),this.props.zoomActive||this.props.detailActive?l().createElement(o.JX,{xs:3,style:{display:"flex",justifyContent:"flex-end"}},this.props.zoomActive?l().createElement(M,{style:this.props.buttonStyle,tooltipPosition:"bottom",tooltipId:this.props.zoomTooltip,onClick:this.props.onZoom},l().createElement(o.gG,{glyph:"zoom-to"})):null,this.props.detailActive?l().createElement(M,{style:this.props.buttonStyle,tooltipPosition:"bottom",tooltipId:this.props.detailTooltip,onClick:this.props.onDetailClick},l().createElement(o.gG,{glyph:"info-sign"})):null):null)):null}}z(V,"propTypes",{active:c().bool,title:c().string,clearable:c().bool,searchable:c().bool,isLoading:c().bool,placeholder:c().string,noResultsText:c().string,options:c().array,onChange:c().func,onInputChange:c().func,value:c().object,zoomActive:c().bool,detailActive:c().bool,selectStyle:c().object,buttonStyle:c().object,zoomTooltip:c().string,detailTooltip:c().string,onZoom:c().func,onDetailClick:c().func,showNoResult:c().bool,isDisabled:c().bool}),z(V,"defaultProps",{active:!1,clearable:!1,searchable:!0,isLoading:!1,zoomActive:!1,detailActive:!1,onChange:()=>{},onZoom:()=>{},showNoResult:!1,isDisabled:!1});const U=V;function H(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class q extends l().Component{render(){return this.props.active&&l().createElement("div",null,l().createElement(o.X2,{className:"inline-form filter-field-fixed-row"},l().createElement(o.JX,{xs:6},l().createElement(m,{msgId:this.props.title})),l().createElement(o.JX,{xs:6},this.props.isSelect?l().createElement(B.ZP,{style:this.props.style,clearable:!0,searchable:!0,isLoading:this.props.isLoading,placeholder:l().createElement(m,{msgId:this.props.placeholder}),options:this.props.options,onInputChange:this.props.onInputChange,onChange:this.props.onSelect,value:this.props.value}):l().createElement(o.l0,null,l().createElement(o.NI,{type:this.props.typeInput,onChange:e=>this.props.onFormChange(e.target.value),value:this.props.valueNotObj})))),this.props.showSearchButton&&l().createElement(o.X2,{className:"inline-form filter-field-fixed-row"},l().createElement(o.JX,{xs:8}),l().createElement(o.JX,{xs:8}),l().createElement(o.JX,{md:2},l().createElement(o.zx,{size:"lg",className:"search-button btn btn-primary",bs:"primary",disabled:!this.props.activeButton,onClick:this.props.onSubmitForm},l().createElement(m,{msgId:this.props.buttonTxt})))))}}H(q,"propTypes",{active:c().bool,style:c().object,title:c().string,isSelect:c().bool,isLoading:c().bool,placeholder:c().string,options:c().array,onInputChange:c().func,onSelect:c().func,value:c().object,valueNotObj:c().string,onFormChange:c().func,typeInput:c().string,showSearchButton:c().bool,activeButton:c().bool,onSubmitForm:c().func,buttonTxt:c().string}),H(q,"defaultProps",{active:!1,isSelect:!1,isLoading:!1,options:[],value:{},onInputChange:()=>{},typeInput:"text",showSearchButton:!1,activeButton:!1,valueNotObj:""});const G=q;var Z=s(54014),Y=s.n(Z),W=s(50099),J=s(86093),X=s.n(J),K=s(6386),Q=s.n(K);function $(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const ee=e=>{let t=Y()().startOf("day");const s=Y()().startOf("day").add(1,"d");let n=[],a=t.date();for(;t.date()===a&&t.isBefore(s);)n.push({date:t.toDate(),label:t.format("LT")}),t=t.add(e||30,"m");return n};class te extends a.Component{constructor(){super(...arguments),$(this,"state",{focusedItemIndex:0,times:[]}),$(this,"handleKeyDown",(e=>{let{key:t}=e,{focusedItemIndex:s,times:n}=this.state;if("Enter"===t){const t=n[s];this.props.onSelect(t),e.preventDefault()}else if("ArrowDown"===t){e.preventDefault();const t=s+1;this.scrollDown(t),t<n.length&&this.setState({focusedItemIndex:t})}else if("ArrowUp"===t){e.preventDefault();const t=s-1;this.scrollUp(t),t>-1&&this.setState({focusedItemIndex:t})}})),$(this,"scrollDown",(e=>{const t=this.itemsRef[e];t&&t.offsetTop>this.listRef.offsetHeight&&(this.listRef.scrollTop=t.offsetTop-this.listRef.offsetTop)})),$(this,"scrollUp",(e=>{const t=this.itemsRef[e];if(t){const e=this.listRef.scrollTop,s=t.offsetTop;e&&s<e&&(this.listRef.scrollTop=t.offsetTop-this.listRef.offsetTop)}})),$(this,"attachListRef",(e=>this.listRef=e)),$(this,"itemsRef",{})}componentDidMount(){this.setState({times:ee()})}render(){const{focusedItemIndex:e,times:t}=this.state;return l().createElement("ul",{id:"rw_1_time_listbox",style:{position:"relative"},ref:this.attachListRef,tabIndex:"0",className:"rw-list",role:"listbox","aria-labelledby":"rw_1_input","aria-live":"false","aria-hidden":"true","aria-activedescendant":"rw_1_time_listbox__option__11"},t.map(((t,s)=>l().createElement("li",{key:t.label,onMouseDown:this.props.onMouseDown,onClick:()=>this.props.onSelect(t),ref:e=>{this.itemsRef[s]=e},role:"option",tabIndex:"0","aria-selected":"false",className:"rw-list-option ".concat(e===s?"rw-state-focus":""),id:"rw_1_time_listbox__option__0"},t.label))))}}$(te,"propTypes",{onSelect:c().func,onMouseDown:c().func}),$(te,"defaultProps",{onSelect:()=>{},onMouseDown:()=>{}});const se=te;function ne(){return ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},ne.apply(this,arguments)}function ae(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}X()(Y());const le="function"==typeof Y()().locale?"locale":"lang";function oe(e,t,s){return e?Y()(t,s)[le](e):Y()(t,s)}const re=(e,t)=>{const s=Y()(e);return s.hours(t.getHours()).minute(t.getMinutes()).seconds(t.getSeconds()).milliseconds(t.getMilliseconds()),s.toDate()},ie={base:"lll",date:"L",time:"LT"};class ce extends a.Component{constructor(){super(...arguments),ae(this,"state",{open:"",focused:!1,inputValue:"",operator:"",date:null}),ae(this,"getFormat",(()=>{const{format:e,time:t,calendar:s}=this.props,{date:n,time:a,base:l}=ie;return e||(!t&&s?n:t&&!s?a:l)})),ae(this,"renderInput",((e,t,s,n,a,r,i)=>s?l().createElement(j,{placement:"top",overlay:l().createElement(o.u,{id:"tooltip"},s)},l().createElement("input",{type:"text",id:"rw_1_input",role:"combobox",onBlur:this.handleInputBlur,placeholder:n,"aria-expanded":r||i,"aria-haspopup":"true","aria-busy":"false","aria-owns":"rw_1_cal rw_1_time_listbox",tabIndex:a,autoComplete:"off",value:"".concat(t).concat(e),className:"rw-input",onChange:this.handleValueChange})):l().createElement("input",{type:"text",id:"rw_1_input",role:"combobox",onBlur:this.handleInputBlur,placeholder:n,"aria-expanded":r||i,"aria-haspopup":"true","aria-busy":"false","aria-owns":"rw_1_cal rw_1_time_listbox",tabIndex:a,autoComplete:"off",value:"".concat(t).concat(e),className:"rw-input",onChange:this.handleValueChange}))),ae(this,"inputFlush",!1),ae(this,"ignoreBlur",!1),ae(this,"handleWidgetFocus",(()=>{this.setState({focused:!0}),this.ignoreBlur=!1})),ae(this,"handleWidgetBlur",(()=>{this.ignoreBlur||this.setState({open:"",focused:!1})})),ae(this,"handleMouseDown",(()=>{this.ignoreBlur=!0})),ae(this,"toggleCalendar",(()=>{this.setState((e=>({open:"date"!==e.open?"date":""})))})),ae(this,"toggleTime",(()=>{this.setState((e=>({open:"time"!==e.open?"time":""})))})),ae(this,"handleInputBlur",(()=>{if(this.inputFlush){const e=this.parse(this.state.inputValue),t=this.format(e);this.setState({inputValue:t,date:e}),this.inputFlush=!1,this.props.onChange(e,"".concat(this.state.operator).concat(t))}})),ae(this,"setDateFromValueProp",((e,t)=>{if(Q()(e)){const s=this.format(e);this.setState((n=>({date:e,inputValue:s,operator:t||n.operator})))}})),ae(this,"parse",(e=>{const{culture:t}=this.props,s=this.getFormat();if(e){const n=oe(t,e,s);if(n.isValid())return n.toDate()}return null})),ae(this,"format",(e=>{if(!e)return"";const{culture:t}=this.props,s=this.getFormat(),n=oe(t,e);return n.isValid()?n.format(s):""})),ae(this,"close",(()=>{this.setState({open:""})})),ae(this,"open",(()=>{const{calendar:e,time:t}=this.props;return!e&&t?this.setState({open:"time"}):e&&!t?this.setState({open:"date"}):""})),ae(this,"handleKeyDown",(e=>{const{open:t}=this.state,s="time"===t,n="date"===t;if(!e.defaultPrevented)if("Escape"!==e.key){if(e.altKey&&"ArrowDown"===e.key)return e.preventDefault(),void this.open();if(e.altKey&&"ArrowUp"===e.key)return e.preventDefault(),void this.close();if(s&&this.timeRef.handleKeyDown(e),n&&this.calRef.refs.inner.handleKeyDown(e),!s&&!n&&"Enter"===e.key){const e=this.parse(this.state.inputValue),t=this.format(e);this.setState({inputValue:t,date:e}),this.inputFlush=!1,this.props.onChange(e,"".concat(this.state.operator).concat(t))}}else this.close()})),ae(this,"handleValueChange",(e=>{const{value:t}=e.target,s=/\s*(!==|!=|<>|<=|>=|===|==|=|<|>)?(.*)/.exec(t);this.setState({inputValue:s[2],operator:s[1]||""}),this.inputFlush=!0})),ae(this,"handleCalendarChange",(e=>{const t=re(e,new Date),s=this.format(t);this.setState({date:t,inputValue:s,open:""}),this.props.onChange(t,"".concat(this.state.operator).concat(s))})),ae(this,"handleTimeSelect",(e=>{const t=this.state.date||new Date,s=re(t,e.date),n=this.format(s);this.setState({date:s,inputValue:n,open:""}),this.props.onChange(s,"".concat(this.state.operator).concat(n))})),ae(this,"attachTimeRef",(e=>this.timeRef=e)),ae(this,"attachCalRef",(e=>this.calRef=e))}componentDidMount(){const{value:e,operator:t}=this.props;this.setDateFromValueProp(e,t)}componentDidUpdate(e){if(e.value!==this.props.value||e.operator!==this.props.operator){const{value:e,operator:t}=this.props;this.setDateFromValueProp(e,t)}}render(){const{open:e,inputValue:t,operator:s,focused:n}=this.state,{calendar:a,time:o,toolTip:r,placeholder:i,tabIndex:c}=this.props,u=Object.keys(this.props).reduce(((e,t)=>(["placeholder","calendar","time","onChange","value"].includes(t)||(e[t]=this.props[t]),e)),{}),d="date"===e,p="time"===e;return l().createElement("div",{tabIndex:"-1",onKeyDown:this.handleKeyDown,onBlur:this.handleWidgetBlur,onFocus:this.handleWidgetFocus,className:"rw-datetimepicker rw-widget ".concat(a&&o?"rw-has-both":""," ").concat(a||o?"":"rw-has-neither"," ").concat(n?"rw-state-focus":"")},this.renderInput(t,s,r,i,c,d,p),a||o?l().createElement("span",{className:"rw-select"},a?l().createElement("button",{tabIndex:"-1",title:"Select Date",type:"button","aria-disabled":"false","aria-label":"Select Date",className:"rw-btn-calendar rw-btn",onClick:this.toggleCalendar},l().createElement("span",{"aria-hidden":"true",className:"rw-i rw-i-calendar"})):"",o?l().createElement("button",{tabIndex:"-1",title:"Select Time",type:"button","aria-disabled":"false","aria-label":"Select Time",className:"rw-btn-time rw-btn",onClick:this.toggleTime},l().createElement("span",{"aria-hidden":"true",className:"rw-i rw-i-clock-o"})):""):"",l().createElement("div",{className:"rw-popup-container rw-popup-animating",style:{display:p?"block":"none",overflow:p?"visible":"hidden",height:"216px"}},l().createElement("div",{className:"rw-popup rw-widget",style:{transform:p?"translateY(0)":"translateY(-100%)",position:p?"":"absolute"}},l().createElement(se,ne({ref:this.attachTimeRef,onMouseDown:this.handleMouseDown},u,{onClose:this.close,onSelect:this.handleTimeSelect})))),l().createElement("div",{className:"rw-calendar-popup rw-popup-container ".concat(d?"":"rw-popup-animating"),style:{display:d?"block":"none",overflow:d?"visible":"hidden",height:"375px"}},l().createElement("div",{className:"rw-popup",style:{transform:d?"translateY(0)":"translateY(-100%)",padding:"0",borderRadius:"4px",position:d?"":"absolute"}},l().createElement(W.Calendar,ne({tabIndex:"-1",ref:this.attachCalRef,onMouseDown:this.handleMouseDown,onChange:this.handleCalendarChange},u)))))}}ae(ce,"propTypes",{format:c().string,type:c().string,placeholder:c().string,onChange:c().func,calendar:c().bool,time:c().bool,value:c().any,operator:c().string,culture:c().string,toolTip:c().string,tabIndex:c().string}),ae(ce,"defaultProps",{placeholder:"Type date...",calendar:!0,time:!0,onChange:()=>{},value:null});const ue=ce;function de(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class pe extends l().Component{constructor(){super(...arguments),de(this,"renderSwitch",(e=>{var t,s,n,a,r,i,c,u,d;switch(e.id){case"FIRST-NAME":return l().createElement(o.NI,{type:"text",onChange:e=>this.props.control("firstName",e.target.value),value:null===(t=this.props.value)||void 0===t?void 0:t.firstName});case"LAST-NAME":return l().createElement(o.NI,{type:"text",onChange:e=>this.props.control("lastName",e.target.value),value:null===(s=this.props.value)||void 0===s?void 0:s.lastName});case"BIRTH-DATE":return l().createElement(ue,{format:"DD/MM/YYYY",time:!1,placeholder:"DD/MM/YYYY",onChange:e=>this.props.control("birthDate",e),value:null===(n=this.props.value)||void 0===n?void 0:n.birthDate});case"BIRTH-PLACE":return l().createElement(B.ZP,{clearable:!0,searchable:!0,options:this.props.towns,onInputChange:this.props.loadTown,onChange:e=>this.props.control("birthPlace",e),isLoading:this.props.isLoadingTown,value:null===(a=this.props.value)||void 0===a?void 0:a.birthPlace});case"FISCAL-CODE":return l().createElement(o.NI,{type:"text",onChange:e=>this.props.control("fiscalCode",e.target.value),value:null===(r=this.props.value)||void 0===r?void 0:r.fiscalCode});case"SUBJECT-CODE":return l().createElement(o.NI,{type:"text",onChange:e=>this.props.control("subjectCode",e.target.value),value:null===(i=this.props.value)||void 0===i?void 0:i.subjectCode});case"VAT-NUMBER":return l().createElement(o.NI,{type:"text",onChange:e=>this.props.control("vatNumber",e.target.value),value:null===(c=this.props.value)||void 0===c?void 0:c.vatNumber});case"BUSINESS-NAME":return l().createElement(o.NI,{type:"text",onChange:e=>this.props.control("businessName",e.target.value),value:null===(u=this.props.value)||void 0===u?void 0:u.businessName});case"IDENTIFICATION-CODE":return l().createElement(o.NI,{type:"number",onChange:e=>this.props.control("identificationCode",e.target.value),value:null===(d=this.props.value)||void 0===d?void 0:d.identificationCode});default:return null}})),de(this,"renderSearchFormControls",(()=>this.props.controls.map((e=>l().createElement("div",{key:e.name},l().createElement(o.X2,{className:"inline-form filter-field-fixed-row"},l().createElement(o.JX,{xs:6},l().createElement(m,{msgId:e.name})),l().createElement(o.JX,{xs:6},l().createElement(o.l0,{onSubmit:e=>(e.preventDefault(),this.props.activeButton?this.props.onSubmitForm():null)},this.renderSwitch(e)))))))))}render(){return this.props.active?l().createElement("div",null,this.renderSearchFormControls(),l().createElement(o.X2,{className:"inline-form filter-field-fixed-row"},l().createElement(o.JX,{xs:8}),l().createElement(o.JX,{xs:8}),l().createElement(o.JX,{md:2},l().createElement(E,{size:"lg",className:"search-button btn btn-primary",bs:"primary",disabled:!this.props.activeButton,onClick:this.props.onSubmitForm},l().createElement(m,{msgId:this.props.buttonTxt}))))):null}}de(pe,"propTypes",{active:c().bool,value:c().object,control:c().func,controls:c().array,buttonTxt:c().string,activeButton:c().bool,onSubmitForm:c().func,loadTown:c().func,towns:c().array,isLoadingTown:c().bool}),de(pe,"defaultProps",{active:!1,activeButton:!1,isLoadingTown:!1,value:null});const me=pe;function he(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class be extends l().Component{render(){return this.props.active&&l().createElement("div",{style:{marginBottom:10}},l().createElement(o.X2,null,l().createElement(o.JX,{xs:1},l().createElement(m,{msgId:"extension.catastoOpenPanel.temporalSearch.startDateLabel"})),l().createElement(o.JX,{xs:5},l().createElement(ue,{format:"DD/MM/YYYY",time:!1,value:this.props.startDateValue,placeholder:"01/01/0001",onChange:this.props.startDateValueOnChange})),l().createElement(o.JX,{xs:1},l().createElement(m,{msgId:"extension.catastoOpenPanel.temporalSearch.endDateLabel"})),l().createElement(o.JX,{xs:5},l().createElement(ue,{format:"DD/MM/YYYY",time:!1,value:this.props.endDateValue,placeholder:(new Date).toLocaleDateString("en-GB"),onChange:this.props.endDateValueOnChange}))))}}he(be,"propTypes",{active:c().bool,endDateValue:c().any,startDateValue:c().any,startDateValueOnChange:c().func,endDateValueOnChange:c().func}),he(be,"defaultProps",{active:!1});const ve=be;var fe=s(54702),ge=s.n(fe);function ye(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Oe extends l().Component{constructor(){super(...arguments),ye(this,"renderSwitchImmobile",(()=>{var e,t,s,n,a,o,r,i,c,u,d,p,m;const h={marginBottom:10};switch(null===(e=this.props.selectedSearchImmType)||void 0===e?void 0:e.value){case F.uZ[0].filters[0].id:return l().createElement(l().Fragment,null,l().createElement(U,{active:!!this.props.selectedCity||this.props.doweHaveFixedComuni,clearable:!this.props.selectedSheet,isLoading:this.props.isLoadingSections,options:this.sectionOptions(),onChange:e=>this.props.onSelectSection(e&&e.value?e:null),value:this.props.selectedSection,title:"extension.catastoOpenPanel.services.parcels.filters.sections.name",placeholder:"extension.catastoOpenPanel.services.parcels.filters.sections.placeholder",noResultsText:"extension.catastoOpenPanel.services.parcels.filters.sections.noResultsText"}),l().createElement(U,{buttonStyle:h,selectStyle:h,active:!!this.props.selectedSection,clearable:!this.props.selectedLand&&!this.props.selectedBuilding,isLoading:this.props.isLoadingSheets,options:this.geomOptions(this.props.sheets),onChange:e=>this.props.onSelectSheet(e&&e.value?e:null),value:this.props.selectedSheet,title:"extension.catastoOpenPanel.services.parcels.filters.sheets.name",placeholder:"extension.catastoOpenPanel.services.parcels.filters.sheets.placeholder",noResultsText:"extension.catastoOpenPanel.services.parcels.filters.sheets.noResultsText",zoomActive:!!this.props.selectedSheet,zoomTooltip:"extension.catastoOpenPanel.services.parcels.filters.sheets.zoomTooltip",onZoom:()=>this.props.loadLayer((0,F.T8)(this.props.selectedSheet,F.We))}),l().createElement(U,{buttonStyle:h,selectStyle:h,active:!!this.props.selectedSheet,clearable:!0,isLoading:this.props.isLoadingLands,options:this.geomOptions(this.props.lands),onChange:this.props.onSelectLand,value:this.props.selectedLand,title:"extension.catastoOpenPanel.services.parcels.filters.lands.name",placeholder:"extension.catastoOpenPanel.services.parcels.filters.lands.placeholder",noResultsText:"extension.catastoOpenPanel.services.parcels.filters.lands.noResultsText",zoomActive:!!this.props.selectedLand&&!ge()(null===(t=this.props.selectedLand)||void 0===t||null===(s=t.feature)||void 0===s?void 0:s.geometry),zoomTooltip:"extension.catastoOpenPanel.services.parcels.filters.lands.zoomTooltip",onZoom:()=>this.props.loadLayer((0,F.T8)(this.props.selectedLand,F.NR)),detailActive:!!this.props.selectedLand,onDetailClick:this.props.loadLandDetails,detailTooltip:"extension.catastoOpenPanel.services.parcels.filters.lands.detailTooltip"}),l().createElement(U,{buttonStyle:h,selectStyle:h,active:!!this.props.selectedSheet,clearable:!0,isLoading:this.props.isLoadingBuildings,options:this.geomOptions(this.props.buildings),onChange:this.props.onSelectBuilding,value:this.props.selectedBuilding,title:"extension.catastoOpenPanel.services.parcels.filters.buildings.name",placeholder:"extension.catastoOpenPanel.services.parcels.filters.buildings.placeholder",noResultsText:"extension.catastoOpenPanel.services.parcels.filters.buildings.noResultsText",zoomActive:!!this.props.selectedBuilding&&!ge()(null===(n=this.props.selectedBuilding)||void 0===n||null===(a=n.feature)||void 0===a?void 0:a.geometry),zoomTooltip:"extension.catastoOpenPanel.services.parcels.filters.buildings.zoomTooltip",onZoom:()=>this.props.loadLayer((0,F.T8)(this.props.selectedBuilding,F.uO)),detailActive:!!this.props.selectedBuilding,onDetailClick:this.props.loadBuildingDetails,detailTooltip:"extension.catastoOpenPanel.services.parcels.filters.buildings.detailTooltip"}));case F.uZ[0].filters[1].id:return l().createElement(l().Fragment,null,l().createElement(G,{active:!!this.props.selectedCity||this.props.doweHaveFixedComuni,style:h,title:"extension.catastoOpenPanel.services.parcels.filtersTypes.immobilebyadd.filters.toponym.name",isSelect:!0,isLoading:this.props.isLoadingToponym,placeholder:"extension.catastoOpenPanel.services.parcels.filtersTypes.immobilebyadd.filters.toponym.placeholder",options:this.toponymOptions(this.props.toponyms),onInputChange:this.props.loadToponym,onSelect:this.props.onSelectToponym,value:this.props.selectedToponym}),l().createElement(G,{active:!!this.props.selectedToponym,style:h,title:"extension.catastoOpenPanel.services.parcels.filtersTypes.immobilebyadd.filters.addressName.name",isSelect:!0,isLoading:this.props.isLoadingAddress,placeholder:"extension.catastoOpenPanel.services.parcels.filtersTypes.immobilebyadd.filters.addressName.placeholder",options:this.addressOptions(this.props.addresses),onInputChange:this.props.loadAddress,onSelect:this.props.onSelectAddress,value:this.props.selectedAddress}),l().createElement(G,{active:!!this.props.selectedAddress,style:h,title:"extension.catastoOpenPanel.services.parcels.filtersTypes.immobilebyadd.filters.ncivico.name",placeholder:"extension.catastoOpenPanel.services.parcels.filtersTypes.immobilebyadd.filters.ncivico.placeholder",onFormChange:this.props.onChangeHouseNumber,showSearchButton:!0,activeButton:this.props.isValidInputOnImmAddress,onSubmitForm:()=>this.props.onSubmitSearch(this.props.selectedSearchImmType.value),buttonTxt:"extension.catastoOpenPanel.searchButton",valueNotObj:this.props.houseNumber}),l().createElement(U,{buttonStyle:h,selectStyle:h,active:this.props.hasSubmitedSearch,clearable:!0,isLoading:this.props.isLoadingBuildings,options:this.geomOptions(this.props.buildings),onChange:e=>this.props.onSelectBuilding(e&&e.value?e:null),value:this.props.selectedBuilding,title:"extension.catastoOpenPanel.services.parcels.filters.buildings.name",placeholder:"extension.catastoOpenPanel.services.parcels.filters.buildings.placeholder",noResultsText:"extension.catastoOpenPanel.services.parcels.filters.buildings.noResultsText",zoomActive:!!this.props.selectedBuilding&&!ge()(null===(o=this.props.selectedBuilding)||void 0===o||null===(r=o.feature)||void 0===r?void 0:r.geometry),zoomTooltip:"extension.catastoOpenPanel.services.parcels.filters.buildings.zoomTooltip",onZoom:()=>this.props.loadLayer((0,F.T8)(this.props.selectedBuilding,F.uO)),detailActive:!!this.props.selectedBuilding,onDetailClick:this.props.loadBuildingDetails,detailTooltip:"extension.catastoOpenPanel.services.parcels.filters.buildings.detailTooltip"}));case F.uZ[0].filters[2].id:return l().createElement(l().Fragment,null,l().createElement(G,{active:!!this.props.selectedCity||this.props.doweHaveFixedComuni,style:h,title:"extension.catastoOpenPanel.services.parcels.filtersTypes.immobilebycode.filters.immobileType.name",isSelect:!0,isLoading:!1,placeholder:"extension.catastoOpenPanel.services.parcels.filtersTypes.immobilebycode.filters.immobileType.placeholder",options:this.immobileTypeOptions(),onSelect:this.props.onSelectImmType,value:this.props.selectedImmType}),l().createElement(G,{active:!!this.props.selectedImmType,style:h,title:"extension.catastoOpenPanel.services.parcels.filtersTypes.immobilebycode.filters.immobileCode.name",placeholder:"extension.catastoOpenPanel.services.parcels.filtersTypes.immobilebycode.filters.immobileCode.placeholder",onFormChange:this.props.onChangeImmCode,showSearchButton:!0,activeButton:this.props.isValidInputOnImmCode,onSubmitForm:()=>this.props.onSubmitSearch(this.props.selectedSearchImmType.value),buttonTxt:"extension.catastoOpenPanel.searchButton",typeInput:"number",valueNotObj:this.props.immobileCode}),l().createElement(U,{buttonStyle:h,selectStyle:h,active:this.props.hasSubmitedSearch&&(null===(i=this.props.selectedImmType)||void 0===i?void 0:i.value)===F.uZ[0].filters[0].filters[0].id,clearable:!0,isLoading:this.props.isLoadingLands,options:this.geomOptions(this.props.lands),onChange:this.props.onSelectLand,value:this.props.selectedLand,title:"extension.catastoOpenPanel.services.parcels.filters.lands.name",placeholder:"extension.catastoOpenPanel.services.parcels.filters.lands.placeholder",noResultsText:"extension.catastoOpenPanel.services.parcels.filters.lands.noResultsText",zoomActive:!!this.props.selectedLand&&!ge()(null===(c=this.props.selectedLand)||void 0===c||null===(u=c.feature)||void 0===u?void 0:u.geometry),zoomTooltip:"extension.catastoOpenPanel.services.parcels.filters.lands.zoomTooltip",onZoom:()=>this.props.loadLayer((0,F.T8)(this.props.selectedLand,F.NR)),detailActive:!!this.props.selectedLand,onDetailClick:this.props.loadLandDetails,detailTooltip:"extension.catastoOpenPanel.services.parcels.filters.lands.detailTooltip"}),l().createElement(U,{buttonStyle:h,selectStyle:h,active:this.props.hasSubmitedSearch&&(null===(d=this.props.selectedImmType)||void 0===d?void 0:d.value)===F.uZ[0].filters[0].filters[1].id,clearable:!0,isLoading:this.props.isLoadingBuildings,options:this.geomOptions(this.props.buildings),onChange:e=>this.props.onSelectBuilding(e&&e.value?e:null),value:this.props.selectedBuilding,title:"extension.catastoOpenPanel.services.parcels.filters.buildings.name",placeholder:"extension.catastoOpenPanel.services.parcels.filters.buildings.placeholder",noResultsText:"extension.catastoOpenPanel.services.parcels.filters.buildings.noResultsText",zoomActive:!!this.props.selectedBuilding&&!ge()(null===(p=this.props.selectedBuilding)||void 0===p||null===(m=p.feature)||void 0===m?void 0:m.geometry),zoomTooltip:"extension.catastoOpenPanel.services.parcels.filters.buildings.zoomTooltip",onZoom:()=>this.props.loadLayer((0,F.T8)(this.props.selectedBuilding,F.uO)),detailActive:!!this.props.selectedBuilding,onDetailClick:this.props.loadBuildingDetails,detailTooltip:"extension.catastoOpenPanel.services.parcels.filters.buildings.detailTooltip"}));default:return null}})),ye(this,"renderPropertySearchFilter",(()=>{var e,t;return l().createElement("div",null,l().createElement(U,{active:this.doWeHaveDatesValid()&&(null===(e=this.props.selectedService)||void 0===e?void 0:e.value)===F.uZ[0].id,clearable:!this.props.selectedSection,isLoading:!this.props.doweHaveFixedComuni&&this.props.isLoadingCities,options:this.cityOptions(),onChange:e=>this.props.onSelectCity(e&&e.value?e:null),value:this.props.selectedCity,onInputChange:e=>this.props.loadCities(e),title:"extension.catastoOpenPanel.services.parcels.filters.cities.name",placeholder:"extension.catastoOpenPanel.services.parcels.filters.cities.placeholder",noResultsText:"extension.catastoOpenPanel.services.parcels.filters.cities.noResultsText",showNoResult:!0,isDisabled:this.props.doweHaveFixedComuni}),(null===(t=this.props.selectedService)||void 0===t?void 0:t.value)===F.uZ[0].id&&this.renderSwitchImmobile())})),ye(this,"renderSubjectSearchForm",(()=>{var e,t;const s=l().createElement(m,{msgId:"extension.catastoOpenPanel.searchContainer.serviceSelect.placeholder"});return null!==(e=this.props.selectedService)&&void 0!==e&&e.value&&(null===(t=this.props.selectedService)||void 0===t?void 0:t.value)!==F.uZ[0].id&&this.doWeHaveDatesValid()?l().createElement("div",null,l().createElement(B.ZP,{style:{marginBottom:10},placeholder:s,options:this.subjectFormFilters(),onChange:e=>this.props.onSelectSubjectFilter(e&&e.value?e:null),value:this.props.selectedSubjectFilter}),l().createElement(me,{active:!!this.props.selectedSubjectFilter,value:this.props.subjectForm,buttonTxt:"extension.catastoOpenPanel.searchButton",controls:this.subjectFormFilterControls(),control:this.props.updateSubjectForm,activeButton:this.props.subjectFormButtonActive,onSubmitForm:()=>this.props.loadSubjects(this.props.subjectForm),loadTown:this.props.updateSubjectFormLoadTown,towns:this.props.towns.map((e=>({value:e.code,label:e.name}))),isLoadingTown:this.props.isLoadingTown})):null})),ye(this,"searchImmTypeOptions",(()=>F.uZ[0].filters.map((e=>({value:e.id,label:l().createElement(m,{msgId:e.placeholder})}))))),ye(this,"cityOptions",(()=>{var e,t,s;return this.props.doweHaveFixedComuni?[{value:null===(e=this.props.fixedComuni)||void 0===e?void 0:e.codice,label:null===(t=this.props.fixedComuni)||void 0===t?void 0:t.comuni,code:null===(s=this.props.fixedComuni)||void 0===s?void 0:s.codice}]:this.props.cities.map((e=>({value:e.code,label:e.name,code:e.code})))})),ye(this,"toponymOptions",(e=>e?e.map((e=>({value:e.code,label:e.toponym}))):{})),ye(this,"addressOptions",(e=>e?e.map((e=>({value:e.indirizzo.replace(/[^a-zA-Z0-9]/g,""),label:e.indirizzo}))):{})),ye(this,"sectionOptions",(()=>{const e=this.props.sections;return void 0===e.find((e=>"_"===e.value))&&e.length>1&&this.props.sections.push({value:"_",label:"TUTTE LE SEZIONI",name:"_"}),e.map((e=>({value:e.name,label:e.label?e.label:e.name,code:e.name})))})),ye(this,"geomOptions",(e=>e.map((e=>({value:e.number,label:"".concat(e.number,"-").concat(e.section),...e}))))),ye(this,"subjectFormFilters",(()=>{var e;return null===(e=this.props.selectedService)||void 0===e?void 0:e.filters.map((e=>({...e,value:e.id,label:l().createElement(m,{msgId:e.placeholder})})))})),ye(this,"immobileTypeOptions",(()=>F.uZ[0].filters[0].filters.map((e=>({value:e.id,label:l().createElement(m,{msgId:e.name})}))))),ye(this,"subjectFormFilterControls",(()=>{var e;const t=this.subjectFormFilters().filter((e=>{var t;return e.id===(null===(t=this.props.selectedSubjectFilter)||void 0===t?void 0:t.id)}));return(null===(e=t[0])||void 0===e?void 0:e.filters)||t})),ye(this,"useTemporalSearch",(()=>{if(this.props.selectedService){const t=F.uZ.filter((e=>{var t;return e.id===(null===(t=this.props.selectedService)||void 0===t?void 0:t.value)}));if(t){const s=this.props.filterServices.filter((e=>t[0].state_identifier===e.state_identifier));var e;return 1===(null==s?void 0:s.length)&&(null===(e=s[0])||void 0===e||!e.useHistoricalSearch)&&s[0].useTemporalSearch}return!1}return!1})),ye(this,"handleOnChangeOfCheckBox",(e=>this.props.onChangeTemporalSearchCheckbox(e.target.checked))),ye(this,"doWeHaveDatesValid",(()=>!this.useTemporalSearch()||!this.props.isTemporalSearchChecked||!(!this.props.endDateValue||!this.props.startDateValue)&&this.props.startDateValue<this.props.endDateValue&&!(this.props.endDateValue>(0,F.Ro)()||this.props.startDateValue<new Date("0000-12-31")))),ye(this,"useHistoricalSearch",(()=>{if(this.props.selectedService){const t=F.uZ.filter((e=>{var t;return e.id===(null===(t=this.props.selectedService)||void 0===t?void 0:t.value)}));if(t){var e;const s=this.props.filterServices.filter((e=>t[0].state_identifier===e.state_identifier));return 1===(null==s?void 0:s.length)&&(null===(e=s[0])||void 0===e?void 0:e.useHistoricalSearch)}return!1}return!1})),ye(this,"handleHistoricalOnChangeOfCheckBox",(e=>this.props.onChangeHistoricalSearchCheckbox(e.target.checked)))}componentWillReceiveProps(e){e.isTemporalSearchChecked?e.startDateValue&&e.endDateValue&&(e.startDateValue>e.endDateValue||e.endDateValue>(0,F.Ro)()||e.startDateValue<new Date("0000-12-31")?this.props.setMessageForUser("extension.catastoOpenPanel.dateInputError"):(this.props.setMessageForUser(null),(0,h.hn)())):(this.props.setMessageForUser(null),(0,h.hn)()),e.isHistoricalSearchChecked&&(0,h.hn)()}renderHeader(){return l().createElement("div",null,l().createElement("div",{className:"pull-left"},l().createElement(m,{msgId:"extension.catastoOpenPanel.searchContainer.title"})))}renderServiceSelect(){var e;return l().createElement(l().Fragment,null,l().createElement(B.ZP,{style:{marginBottom:10},clearable:!1,searchable:!1,placeholder:l().createElement(m,{msgId:"extension.catastoOpenPanel.searchContainer.serviceSelect.placeholder"}),options:this.serviceOptions(),onChange:e=>this.props.onSelectService(e&&e.value?e:null),value:this.props.selectedService}),this.useTemporalSearch()&&l().createElement(l().Fragment,null,l().createElement(o.XZ,{checked:this.props.isTemporalSearchChecked,onChange:this.handleOnChangeOfCheckBox},l().createElement(m,{msgId:"extension.catastoOpenPanel.temporalSearch.label"})),l().createElement(ve,{active:this.props.isTemporalSearchChecked,startDateValue:this.props.startDateValue,startDateValueOnChange:this.props.startDateValueOnChange,endDateValue:this.props.endDateValue,endDateValueOnChange:this.props.endDateValueOnChange})),this.useHistoricalSearch()&&l().createElement(o.XZ,{checked:this.props.isHistoricalSearchChecked,onChange:this.handleHistoricalOnChangeOfCheckBox},l().createElement(m,{msgId:"extension.catastoOpenPanel.historicalSearch.label"})),(null===(e=this.props.selectedService)||void 0===e?void 0:e.value)===F.uZ[0].id?l().createElement(B.ZP,{style:{marginBottom:10},clearable:!1,searchable:!1,placeholder:l().createElement(m,{msgId:"extension.catastoOpenPanel.typesOfImmobileSearch.placeholder"}),options:this.searchImmTypeOptions(),onChange:this.props.onSelectSearchImmType,value:this.props.selectedSearchImmType}):null)}render(){return l().createElement("div",{className:"query-filter-container"},l().createElement(o.s_,{className:"mapstore-switch-panel",header:this.renderHeader(),collapsible:!0,expanded:!0},this.renderServiceSelect(),this.renderPropertySearchFilter(),this.renderSubjectSearchForm()))}serviceOptions(){const e=this.props.filterServices.reduce(((e,t)=>e.concat([t.state_identifier])),[]);return F.uZ.filter((t=>e.includes(t.state_identifier))).map((e=>({...e,value:e.id,label:l().createElement(m,{msgId:e.placeholder})})))}}ye(Oe,"propTypes",{onSelectService:c().func,selectedService:c().object,onSelectSearchImmType:c().func,selectedSearchImmType:c().object,cities:c().array,loadCities:c().func,isLoadingCities:c().bool,onSelectCity:c().func,selectedCity:c().object,loadToponym:c().func,isLoadingToponym:c().bool,onSelectToponym:c().func,toponyms:c().array,selectedToponym:c().object,loadAddress:c().func,isLoadingAddress:c().bool,onSelectAddress:c().func,addresses:c().array,selectedAddress:c().object,onChangeHouseNumber:c().func,isValidInputOnImmAddress:c().bool,houseNumber:c().string,isValidInputOnImmCode:c().bool,immobileCode:c().number,onSubmitSearch:c().func,hasSubmitedSearch:c().bool,onSelectImmType:c().func,onChangeImmCode:c().func,selectedImmType:c().object,sections:c().array,isLoadingSections:c().bool,onSelectSection:c().func,selectedSection:c().object,sheets:c().array,isLoadingSheets:c().bool,onSelectSheet:c().func,selectedSheet:c().object,lands:c().array,isLoadingLands:c().bool,onSelectLand:c().func,selectedLand:c().object,buildings:c().array,isLoadingBuildings:c().bool,onSelectBuilding:c().func,selectedBuilding:c().object,onSelectSubjectFilter:c().func,selectedSubjectFilter:c().object,subjectFormButtonActive:c().bool,subjectForm:c().object,updateSubjectForm:c().func,updateSubjectFormLoadTown:c().func,isLoadingTown:c().bool,towns:c().array,loadSubjects:c().func,loadLayer:c().func,loadLandDetails:c().func,loadBuildingDetails:c().func,filterServices:c().array,isTemporalSearchChecked:c().bool,onChangeTemporalSearchCheckbox:c().func,isHistoricalSearchChecked:c().bool,onChangeHistoricalSearchCheckbox:c().func,startDateValue:c().any,startDateValueOnChange:c().func,endDateValue:c().any,endDateValueOnChange:c().func,setMessageForUser:c().func,fixedComuni:c().object,doweHaveFixedComuni:c().bool}),ye(Oe,"defaultProps",{selectedService:null,selectedSearchImmType:null,cities:[],toponyms:[],selectedToponym:null,isLoadingToponym:!1,addresses:[],selectedAddress:null,isLoadingAddress:!1,isValidInputOnImmAddress:!1,houseNumber:"",immobileCode:null,hasSubmitedSearch:!1,selectedImmType:null,selectedCity:null,sections:[],selectedSection:null,sheets:[],selectedSheet:null,lands:[],selectedLand:null,buildings:[],selectedBuilding:null,selectedSubjectFilter:null,updateSubjectForm:()=>{},updateSubjectFormLoadTown:()=>{},isLoadingTown:!1,towns:[],subjectFormButtonActive:!0,subjectForm:null,loadSubjects:()=>{},loadLayer:()=>{},isTemporalSearchChecked:!1,isHistoricalSearchChecked:!1,onChangeTemporalSearchCheckbox:()=>{},fixedComuni:null,doweHaveFixedComuni:!1});const Se={onSelectService:h.Cz,onSelectSearchImmType:h.xs,onSelectCity:h.t3,loadCities:h.hn,loadToponym:h.ul,onSelectToponym:h.FG,loadAddress:h.Dx,onSelectAddress:h.N0,onChangeHouseNumber:h.yZ,onSubmitSearch:h.iQ,onSelectImmType:h.AW,onChangeImmCode:h.kI,onSelectSection:h.oM,onSelectSheet:h.s6,onSelectLand:h.qU,onSelectBuilding:h.JZ,onSelectSubjectFilter:h.g5,updateSubjectForm:h.xo,updateSubjectFormLoadTown:h.SO,loadSubjects:h.OL,loadLayer:h.vE,loadLandDetails:h.YV,loadBuildingDetails:h.ei,onChangeTemporalSearchCheckbox:h.gC,onChangeHistoricalSearchCheckbox:h.Lh,startDateValueOnChange:h.$H,endDateValueOnChange:h.Qo,setMessageForUser:h.Kp},Ce=(0,D.zB)({selectedService:L.Cb,selectedSearchImmType:L.oY,isLoadingCities:L.oQ,cities:L.wF,toponyms:L.QA,isLoadingToponym:L.f5,selectedToponym:L.oq,addresses:L.Tn,isLoadingAddress:L.gk,selectedAddress:L.vI,isValidInputOnImmAddress:L.FB,hasSubmitedSearch:L.hz,selectedImmType:L.r4,isValidInputOnImmCode:L.Ot,immobileCode:L.Sm,houseNumber:L.dt,selectedCity:L.$h,isLoadingSections:L.fu,sections:L.nx,selectedSection:L.d5,sheets:L.RR,selectedSheet:L.Y3,isLoadingSheets:L.Zx,lands:L.Xp,selectedLand:L.O4,isLoadingLands:L.v7,buildings:L.dN,selectedBuilding:L.mU,isLoadingBuildings:L.le,selectedSubjectFilter:L.WN,subjectFormButtonActive:L.VC,subjectForm:L.z_,isTemporalSearchChecked:L.PT,isHistoricalSearchChecked:L.m,startDateValue:L.m7,endDateValue:L.zm,isLoadingTown:L.L0,towns:L.hj,fixedComuni:L.iL,doweHaveFixedComuni:L.TB}),Te=Oe;var Ee=s(75594),Ae=s.n(Ee),we=s(33437),Pe=s.n(we);const De=e=>Pe()(e,"resultGrid.rows");var xe=s(32509),_e=s(93292);function Ie(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class je extends l().Component{constructor(){super(...arguments),Ie(this,"onRowClick",(e=>e<0?null:this.props.onRowSelect(this.getRowFromIndex(e)))),Ie(this,"getRowFromIndex",(e=>this.props.rows[e])),Ie(this,"getSize",(()=>this.props.rows.length)),Ie(this,"rowGetter",(e=>this.props.rows[e]))}render(){return this.props.active?l().createElement(Ae(),{onGridSort:this.props.sortRows,columns:this.props.columns,rowGetter:this.rowGetter,rowsCount:this.getSize(),onRowClick:e=>this.onRowClick(e),minHeight:this.props.minHeight,onAddFilter:e=>this.props.handleFilterChange(e),onClearFilters:this.props.handleClearFilter,toolbar:this.props.toolbar}):null}}Ie(je,"propTypes",{active:c().bool,minHeight:c().number,loadingResults:c().bool,columns:c().array,initialRows:c().array,rows:c().array,onRowSelect:c().func,sortRows:c().func,handleFilterChange:c().func,handleClearFilter:c().func,toolbar:c().object}),Ie(je,"defaultProps",{active:!1,enableFilter:!1,enableResumeButton:!1,loadingResults:!1,columns:[],rows:[],toolbar:l().createElement(_e.Toolbar,null)});const Ne=(0,D.zB)({rows:De,initialRows:e=>Pe()(e,"resultGrid.initialRows")}),Re={sortRows:xe.TC,handleFilterChange:xe.Eo,handleClearFilter:xe.$O},ke=je,Le=e=>e>100?"full":e>40?"medium":"small",Be=e=>{let{size:t,style:s={},className:n,hidden:a}=e;return l().createElement("div",{className:n,style:{width:t,height:t,overflow:"hidden",...s}},!a&&l().createElement("div",{className:"mapstore-".concat(Le(t),"-size-loader")}))};Be.propTypes={size:c().number,className:c().string,style:c().object};const Fe=Be,ze=I(s(67272).h_);var Me=s(51312),Ve=s.n(Me),Ue=s(58120),He=s.n(Ue),qe=s(56394),Ge=s.n(qe);function Ze(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Ye extends l().Component{constructor(){super(...arguments),Ze(this,"renderLoading",(()=>this.props.maskLoading?l().createElement("div",{style:{width:"100%",height:"100%",position:"absolute",overflow:"visible",margin:"auto",verticalAlign:"center",left:"0",background:"rgba(255, 255, 255, 0.5)",zIndex:2}},l().createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},l().createElement(m,{msgId:"loading"}),l().createElement(Ge(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}))):null)),Ze(this,"renderRole",(e=>l().Children.toArray(this.props.children).filter((t=>t.props.role===e)))),Ze(this,"hasRole",(e=>l().Children.toArray(this.props.children).filter((t=>t.props.role===e)).length>0)),Ze(this,"onClickOut",(e=>{this.props.onClickOut&&this.mask===e.target&&this.props.onClickOut(e)}))}render(){const e=l().createElement("div",{id:this.props.id,style:{...this.props.style},className:"".concat(this.props.draggable?"modal-dialog-draggable":""," ").concat(this.props.className," modal-dialog-container")},l().createElement("div",{className:this.props.headerClassName+" draggable-header"},this.renderRole("header")),l().createElement("div",{className:this.props.bodyClassName},this.renderLoading(),this.renderRole("body")),this.hasRole("footer")?l().createElement("div",{className:this.props.footerClassName},this.renderRole("footer")):l().createElement("span",null)),t=this.props.draggable?l().createElement(He(),{defaultPosition:this.props.start,bounds:this.props.bounds,handle:".draggable-header, .draggable-header *"},e):e;let s=Ve()({},this.props.style.display?{display:this.props.style.display}:{},this.props.backgroundStyle);return this.props.modal?l().createElement("div",{ref:e=>{this.mask=e},onClick:this.onClickOut,style:s,className:"fade in modal "+this.props.containerClassName,role:"dialog"},t):t}}Ze(Ye,"propTypes",{id:c().string.isRequired,style:c().object,backgroundStyle:c().object,className:c().string,maskLoading:c().bool,containerClassName:c().string,headerClassName:c().string,bodyClassName:c().string,footerClassName:c().string,onClickOut:c().func,modal:c().bool,start:c().object,draggable:c().bool,bounds:c().oneOfType([c().string,c().object])}),Ze(Ye,"defaultProps",{style:{},backgroundStyle:{background:"rgba(0,0,0,.5)"},start:{x:0,y:150},className:"modal-dialog modal-content",maskLoading:!1,containerClassName:"",headerClassName:"modal-header",bodyClassName:"modal-body",footerClassName:"modal-footer",modal:!1,draggable:!0,bounds:"parent"});const We=Ye;var Je=s(75451),Xe=s.n(Je);const Ke=(0,O.branch)((function(){let{disabled:e,noTooltipWhenDisabled:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!(t&&e)}),k,(e=>t=>l().createElement(e,R()(t,["tooltipId","tooltip","noTooltipWhenDisabled"]),t.children)));function Qe(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const $e=(0,O.branch)((e=>{let{popover:t}=e;return t}),(e=>{var t;return Qe(t=class extends l().Component{renderPopover(){return l().createElement(o.J2,R()(this.props.popover,["trigger","placement","text"]),this.props.popover.text)}renderContent(){const t=(0,O.toClass)(e);return l().createElement(t,R()(this.props,["popover"]))}render(){const e=!0===this.props.popover.trigger?["hover","focus"]:this.props.popover.trigger;return l().createElement("span",null,l().createElement(j,{trigger:e,placement:this.props.popover.placement,overlay:this.renderPopover()},this.renderContent()))}},"propTypes",{popover:c().object}),Qe(t,"defaultProps",{popover:{trigger:!0}}),t}));function et(){return et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},et.apply(this,arguments)}const tt=(0,O.compose)(Ke,$e)((function(){let{glyph:e,loading:t,text:s="",textId:n,glyphClassName:a="",loaderProps:r={},children:i,...c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l().createElement(E,R()(c,["pullRight","confirmNo","confirmYes"]),e&&!t?l().createElement(o.gG,{glyph:e,className:a}):null,n?l().createElement(m,{msgId:n}):s,t?l().createElement(Fe,et({className:"ms-loader".concat(c.bsStyle&&" ms-loader-"+c.bsStyle||"").concat(c.bsSize&&" ms-loader-"+c.bsSize||"")},r)):null,i)}));function st(){return st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},st.apply(this,arguments)}const nt=function(){let{buttons:e=[],btnGroupProps:t={},btnDefaultProps:s={},transitionProps:n={transitionName:"toolbar-btn-transition",transitionEnterTimeout:300,transitionLeaveTimeout:300}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=()=>e.map(((e,t)=>{let{visible:n=!0,Element:a,renderButton:o,...r}=e;return n?o||a&&l().createElement(a,st({key:r.key||t},r))||l().createElement(tt,st({key:r.key||t},s,r)):null}));return l().createElement(o.hE,t,n?l().createElement(Xe(),n,a()):a())},at=function(){let{style:e={display:"inline-block"}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l().createElement("div",{style:e,className:"mapstore-inline-loader"})},lt={xs:" ms-xs",sm:" ms-sm",md:"",lg:" ms-lg"},ot={className:{vertical:" ms-fullscreen-v",horizontal:" ms-fullscreen-h",full:" ms-fullscreen"},glyph:{expanded:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-small"},collapsed:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-full"}}},rt=(0,O.withState)("fullscreenState","onFullscreen",(e=>{let{initialFullscreenState:t="collapsed"}=e;return t}))((e=>{let{show:t=!1,loading:s,loadingText:n,onClose:a=(()=>{}),title:r="",clickOutEnabled:i=!0,showClose:c=!0,disabledClose:u=!1,showFullscreen:d=!1,fullscreenType:p="full",buttons:m=[],size:h="",bodyClassName:b="",children:v,draggable:f=!1,fullscreenState:g,onFullscreen:y,fade:O=!1,fitContent:S,modalClassName:T="",dialogClassName:E="",enableFooter:A=!0}=e;const w=lt[h]||"",P=d&&"expanded"===g&&ot.className[p]||"",D=t?l().createElement("div",{className:"modal-fixed ".concat(T," ")+(f?"ms-draggable":"")},l().createElement(We,{id:"ms-resizable-modal",style:{display:"flex"},onClickOut:i?a:()=>{},containerClassName:"ms-resizable-modal",draggable:f,modal:!0,className:C()("modal-dialog modal-content",w,P,E,{"ms-fit-content":S})},l().createElement("span",{role:"header"},l().createElement("h4",{className:"modal-title"},l().createElement("div",{className:"ms-title"},r),d&&ot.className[p]&&l().createElement(o.gG,{className:"ms-header-btn",onClick:()=>y("expanded"===g?"collapsed":"expanded"),glyph:ot.glyph[g][p]}),c&&a&&l().createElement(o.gG,{glyph:"1-close",className:"ms-header-btn",onClick:a,disabled:u}))),l().createElement("div",{role:"body",className:b},v),A&&l().createElement("div",{style:{display:"flex"},role:"footer"},l().createElement("div",{className:"ms-resizable-modal-loading-spinner-container"},s?l().createElement(at,null):null),l().createElement("div",{className:"ms-resizable-modal-loading-text"},s?n:null),l().createElement(nt,{buttons:m})))):null;return O?l().createElement(Xe(),{transitionName:"ms-resizable-modal-fade",transitionEnterTimeout:300,transitionLeaveTimeout:300},D):D})),it=k(E),ct=e=>{const[t,s]=(0,a.useState)(!1),n=()=>{s(!1)},r=e.columns.filter((e=>"selectButton"!==e.key&&"propertyType"!==e.key&&"printButton"!==e.key));return l().createElement(l().Fragment,null,l().createElement(it,{onClick:()=>{s(!0)}},l().createElement(o.gG,{glyph:"new-window"})),l().createElement(ze,{key:e.id},l().createElement(rt,{title:l().createElement(m,{msgId:e.id}),show:t,clickOutEnabled:!1,bodyClassName:"ms-flex modal-properties-container",fitContent:!0,buttons:[{text:l().createElement(m,{msgId:"close"}),onClick:n}],onClose:n,showClose:!0,showFullscreen:!0,draggable:!0},l().createElement(o.rj,{fluid:!0},l().createElement("div",{className:"ms-map-properties",style:{margin:20}},l().createElement(o.iA,{striped:!0,bordered:!0,condensed:!0,hover:!0},l().createElement("thead",{style:{backgroundColor:"#dddddd"}},l().createElement("tr",null,r.map((e=>l().createElement("th",{key:e.key},e.name))))),l().createElement("tbody",null,e.rows.map(((e,t)=>l().createElement("tr",{key:t},r.map((t=>l().createElement("td",{key:t.key},e[t.key])))))))))))))};ct.propTypes={id:c().string,columns:c().array,rows:c().array},ct.defaultProps={id:"",columns:[],rows:[]};const ut=ct;var dt=s(76525),pt=s.n(dt),mt=s(15071),ht=s.n(mt);function bt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class vt extends l().Component{constructor(){super(...arguments),bt(this,"getDisplayStyle",(()=>{let e;return e=pt()(this.props.loading)?this.props.loading(this.props):this.props.loading,e?"inline-block":"none"}))}render(){return l().createElement("img",{className:this.props.className,src:this.props.icon,style:{display:this.getDisplayStyle(),margin:"4px",padding:0,background:"transparent",border:0},alt:"..."})}}bt(vt,"propTypes",{className:c().string,loading:c().oneOfType([c().bool,c().func]),icon:c().string}),bt(vt,"defaultProps",{loading:!1,icon:ht(),className:"inline-spinner"});const ft=vt;function gt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const yt=k(E);class Ot extends l().Component{constructor(){super(...arguments),gt(this,"renderToggleFilterButton",(()=>this.props.enableFilter?l().createElement(yt,{tooltipId:"extension.catastoOpenPanel.toggleSearchFilterTooltip",tooltipPosition:"top",onClick:this.props.onToggleFilter},l().createElement(o.gG,{glyph:"filter"})):null)),gt(this,"renderResumeButton",(()=>this.props.resumeButtonActive?l().createElement(yt,{tooltipId:this.props.resumeButtonTooltipId,tooltipPosition:"top",onClick:this.props.onResumeButton},l().createElement(o.gG,{glyph:"arrow-left"})):null)),gt(this,"renderPrintButtonPDF",(()=>this.props.showPrintBtnPdf?l().createElement(yt,{tooltipId:this.props.printTipId,tooltipPosition:"top",onClick:()=>this.props.onClickDownloadVisura("pdf")},this.props.isStartedDownloadVisuraPdf?l().createElement(ft,{loading:!0}):l().createElement(l().Fragment,null,l().createElement(o.gG,{glyph:"print"})," pdf")):null)),gt(this,"renderPrintButtonCSV",(()=>this.props.showPrintBtnCsv?l().createElement(yt,{tooltipId:this.props.printTipId,tooltipPosition:"top",onClick:()=>this.props.onClickDownloadVisura("csv")},l().createElement(o.gG,{glyph:"print"})," csv"):null)),gt(this,"renderExtendButton",(()=>this.props.showExtendBtn?l().createElement(ut,{id:this.props.title,columns:this.props.columns,rows:this.props.rows&&this.props.rows.sort(F.S1)}):null))}render(){return l().createElement("div",{className:"react-grid-Toolbar"},l().createElement("div",{className:"tools",style:{float:"left"}},this.renderResumeButton(),this.renderToggleFilterButton(),this.renderExtendButton(),this.renderPrintButtonPDF(),this.renderPrintButtonCSV(),this.props.children),l().createElement("div",{className:"panel-title text-center"},l().createElement(m,{msgId:this.props.title})))}}gt(Ot,"propTypes",{title:c().string,onToggleFilter:c().func,enableFilter:c().bool,numberOfRows:c().number,filterRowsButtonText:c().string,children:c().any,resumeButtonActive:c().bool,onResumeButton:c().func,resumeButtonTooltipId:c().string,showPrintBtnPdf:c().bool,showPrintBtnCsv:c().bool,printTipId:c().string,showExtendBtn:c().bool,columns:c().array,rows:c().array,onClickDownloadVisura:c().func,isStartedDownloadVisuraCsv:c().bool,isStartedDownloadVisuraPdf:c().bool,errorDownloadMsg:c().object}),gt(Ot,"defaultProps",{title:"",enableAddRow:!0,resumeButtonActive:!1,showPrintBtnPdf:!1,showPrintBtnCsv:!1,showExtendBtn:!1,columns:[],rows:[],isStartedDownloadVisuraCsv:!1,isStartedDownloadVisuraPdf:!1,errorDownloadMsg:null});const St=Ot,Ct=e=>{var t;const s="T"===(null===(t=e.selectedImmobile)||void 0===t?void 0:t.propertyType)?"landDetails":"buildingDetails";return l().createElement("div",{className:"shadow p-3 mb-5 bg-white rounded",style:{paddingTop:30}},l().createElement("p",{className:"text-center"},l().createElement(m,{className:"font-weight-bold",msgId:"extension.catastoOpenPanel.".concat(s,".name")})),l().createElement(o.iA,{striped:!0},l().createElement("tbody",null,Object.keys(e.selectedImmobile).map((t=>l().createElement("tr",{key:t},l().createElement("th",null,l().createElement(m,{msgId:"extension.catastoOpenPanel.".concat(s,".columns.").concat(t)})),l().createElement("td",null,e.selectedImmobile[t])))))))};function Tt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Et=k(E),At=(0,v.connect)(Ce,Se)(Te),wt=(0,v.connect)(Ne,Re)(ke),Pt=[{key:"selectButton",name:"",frozen:!0,width:35,formatter:l().createElement(j,{placement:"bottom",overlay:l().createElement(o.u,null,l().createElement(m,{msgId:"extension.catastoOpenPanel.subjectProperties.detailTooltip"}))},l().createElement(o.gG,{glyph:"eye-open"}))},{key:"subjects",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.services.naturalSubjects.columns.subjectCode"}),resizable:!0,sortable:!0,filterable:!0},{key:"lastName",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.services.naturalSubjects.columns.lastName"}),resizable:!0,sortable:!0,filterable:!0},{key:"firstName",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.services.naturalSubjects.columns.firstName"}),resizable:!0,sortable:!0,filterable:!0},{key:"fiscalCode",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.services.naturalSubjects.columns.fiscalCode"}),resizable:!0,sortable:!0,filterable:!0},{key:"dateOfBirth",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.services.naturalSubjects.columns.dateOfBirth"}),resizable:!0,sortable:!0,filterable:!0},{key:"cityOfBirth",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.services.naturalSubjects.columns.cityOfBirth"}),resizable:!0,sortable:!0,filterable:!0},{key:"province",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.services.naturalSubjects.columns.province"}),resizable:!0,sortable:!0,filterable:!0}],Dt=[{key:"selectButton",name:"",frozen:!0,width:35,formatter:l().createElement(j,{placement:"bottom",overlay:l().createElement(o.u,null,l().createElement(m,{msgId:"extension.catastoOpenPanel.subjectProperties.detailTooltip"}))},l().createElement(o.gG,{glyph:"eye-open"}))},{key:"subjects",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.services.legalSubjects.columns.subjectCode"}),resizable:!0,sortable:!0,filterable:!0},{key:"businessName",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.services.legalSubjects.columns.businessName"}),resizable:!0,sortable:!0,filterable:!0},{key:"vatNumber",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.services.legalSubjects.columns.vatNumber"}),resizable:!0,sortable:!0,filterable:!0},{key:"branch",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.services.legalSubjects.columns.branch"}),resizable:!0,sortable:!0,filterable:!0},{key:"province",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.services.legalSubjects.columns.province"}),resizable:!0,sortable:!0,filterable:!0}],xt=[{key:"selectButton",name:"",frozen:!0,width:35,formatter:function(){var e,t;let{row:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==s||null===(e=s.feature)||void 0===e||null===(t=e.geometry)||void 0===t?void 0:t.coordinates)?l().createElement(j,{placement:"bottom",overlay:l().createElement(o.u,null,l().createElement(m,{msgId:"extension.catastoOpenPanel.subjectProperties.zoomTooltip"}))},l().createElement(o.gG,{glyph:"zoom-to"})):null}},{key:"propertyType",name:"",frozen:!0,width:35,formatter:function(){let{value:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e===F.rE?l().createElement(j,{placement:"bottom",overlay:l().createElement(o.u,null,l().createElement(m,{msgId:"extension.catastoOpenPanel.services.parcels.filters.lands.name"}))},l().createElement(o.gG,{glyph:"1-layer"})):e===F.aK?l().createElement(j,{placement:"bottom",overlay:l().createElement(o.u,null,l().createElement(m,{msgId:"extension.catastoOpenPanel.services.parcels.filters.buildings.name"}))},l().createElement(o.gG,{glyph:"home"})):null}},{key:"immobile",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.subjectProperties.columns.immobileCode"}),resizable:!0,sortable:!0,filterable:!0},{key:"city",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.services.parcels.filters.cities.name"}),resizable:!0,sortable:!0,filterable:!0},{key:"section",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.services.parcels.filters.sections.name"}),resizable:!0,sortable:!0,filterable:!0},{key:"sheet",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.services.parcels.filters.sheets.name"}),resizable:!0,sortable:!0,filterable:!0},{key:"number",name:l().createElement(m,{msgId:"extension.number"}),resizable:!0,sortable:!0,filterable:!0},{key:"subordinate",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.subjectProperties.columns.subordinate"}),resizable:!0,sortable:!0,filterable:!0},{key:"right",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.subjectProperties.columns.right"}),resizable:!0,sortable:!0,filterable:!0},{key:"part",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.subjectProperties.columns.part"}),resizable:!0,sortable:!0,filterable:!0},{key:"classification",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.subjectProperties.columns.classification"}),resizable:!0,sortable:!0,filterable:!0},{key:"_class",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.subjectProperties.columns.class"}),resizable:!0,sortable:!0,filterable:!0},{key:"consistency",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.subjectProperties.columns.consistency"}),resizable:!0,sortable:!0,filterable:!0},{key:"income",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.subjectProperties.columns.income"}),resizable:!0,sortable:!0,filterable:!0},{key:"lot",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.subjectProperties.columns.lot"}),resizable:!0,sortable:!0,filterable:!0}],_t=[{key:"selectButton",name:"",frozen:!0,width:35,formatter:l().createElement(j,{placement:"bottom",overlay:l().createElement(o.u,null,l().createElement(m,{msgId:"extension.catastoOpenPanel.landDetails.columns.viewerTooltipDetail"}))},l().createElement(o.gG,{glyph:"eye-open"}))},{key:"subordinate",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.landDetails.columns.subordinate"}),resizable:!0,sortable:!0,filterable:!0},{key:"quality",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.landDetails.columns.quality"}),resizable:!0,sortable:!0,filterable:!0},{key:"_class",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.landDetails.columns.class"}),resizable:!0,sortable:!0,filterable:!0},{key:"hectares",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.landDetails.columns.hectares"}),resizable:!0,sortable:!0,filterable:!0},{key:"are",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.landDetails.columns.are"}),resizable:!0,sortable:!0,filterable:!0},{key:"centiare",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.landDetails.columns.centiare"}),resizable:!0,sortable:!0,filterable:!0},{key:"lot",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.landDetails.columns.lot"}),resizable:!0,sortable:!0,filterable:!0},{key:"cadastralRent",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.landDetails.columns.cadastralRent"}),resizable:!0,sortable:!0,filterable:!0},{key:"agriculturalRent",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.landDetails.columns.agriculturalRent"}),resizable:!0,sortable:!0,filterable:!0}],It=[{key:"selectButton",name:"",frozen:!0,width:35,formatter:l().createElement(j,{placement:"bottom",overlay:l().createElement(o.u,null,l().createElement(m,{msgId:"extension.catastoOpenPanel.buildingDetails.columns.viewerTooltipDetail"}))},l().createElement(o.gG,{glyph:"eye-open"}))},{key:"subordinate",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.buildingDetails.columns.subordinate"}),resizable:!0,sortable:!0,filterable:!0},{key:"censusZone",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.buildingDetails.columns.censusZone"}),resizable:!0,sortable:!0,filterable:!0},{key:"category",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.buildingDetails.columns.category"}),resizable:!0,sortable:!0,filterable:!0},{key:"_class",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.buildingDetails.columns.class"}),resizable:!0,sortable:!0,filterable:!0},{key:"consistency",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.buildingDetails.columns.consistency"}),resizable:!0,sortable:!0,filterable:!0},{key:"rent",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.buildingDetails.columns.rent"}),resizable:!0,sortable:!0,filterable:!0},{key:"lot",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.buildingDetails.columns.lot"}),resizable:!0,sortable:!0,filterable:!0}],jt=[{key:"nominative",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.nominative"}),resizable:!0,sortable:!0,filterable:!0},{key:"fiscalCode",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.services.naturalSubjects.columns.fiscalCode"}),resizable:!0,sortable:!0,filterable:!0},{key:"city",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.services.parcels.filters.cities.name"}),resizable:!0,sortable:!0,filterable:!0},{key:"right",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.subjectProperties.columns.right"}),resizable:!0,sortable:!0,filterable:!0},{key:"part",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.subjectProperties.columns.part"}),resizable:!0,sortable:!0,filterable:!0}];class Nt extends l().Component{constructor(){var e;super(...arguments),e=this,Tt(this,"renderSearchResults",(()=>{var t,s,n,a,r,i;const c=this.props.searchResults;let u=this.props.loadedResults&&!(null!=c&&c.length)>0;const d=(null==c?void 0:c.length)>10?350:50+35*((null==c?void 0:c.length)+1);let p=[],h="",b=!1,v=!1,f=!1,g=!1;const y=this.props.filterServices.filter((e=>"parcels"===e.state_identifier)),O=this.props.filterServices.filter((e=>"naturalSubjects"===e.state_identifier)),S=this.props.filterServices.filter((e=>"legalSubjects"===e.state_identifier)),C=null!==(null===(t=y[0])||void 0===t?void 0:t.useTemporalSearch)&&!0!==(null===(s=y[0])||void 0===s?void 0:s.useHistoricalSearch)&&(null===(n=y[0])||void 0===n?void 0:n.useTemporalSearch);let T=!1,E=!1,A="extension.catastoOpenPanel.printBtn.label",w=!1;switch(this.props.searchResultType){case F.lR:p=1===O.length?Pt.filter((e=>"selectButton"===e.key||O[0].naturalSubjectColumnsKeys.includes(e.key))):Pt,b=!0,h="extension.catastoOpenPanel.services.naturalSubjects.name",T=this.props.doweHavePrint,E=this.props.doweHavePrint,w=!0;break;case F.sZ:p=1===S.length?Dt.filter((e=>"selectButton"===e.key||S[0].legalSubjectColumnsKeys.includes(e.key))):Dt,b=!0,h="extension.catastoOpenPanel.services.legalSubjects.name",T=this.props.doweHavePrint,E=this.props.doweHavePrint,w=!0;break;case F.FP:p=0!==(null===(a=this.props.ownerDetails.subjectPropertyColumnsKeys)||void 0===a?void 0:a.length)?xt.filter((e=>this.props.ownerDetails.subjectPropertyColumnsKeys.includes(e.key))):xt,!0===this.props.isTemporalSearchChecked&&!0===this.props.ownerDetails.showDate&&(p=[...p,...this.props.extraColumns]),p=[{key:"selectButton",name:"",frozen:!0,width:50,formatter:function(){var t,s;let{row:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==n||null===(t=n.feature)||void 0===t||null===(s=t.geometry)||void 0===s?void 0:s.coordinates)?l().createElement(Et,{tooltipId:"extension.catastoOpenPanel.subjectProperties.zoomTooltip",tooltipPosition:"bottom",onClick:()=>e.zoomToProperty(n)},l().createElement(o.gG,{glyph:"zoom-to",style:{color:"#333333"}})):null}},{key:"propertyType",name:"",frozen:!0,width:35,formatter:function(){let{value:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e===F.rE?l().createElement(j,{placement:"bottom",overlay:l().createElement(o.u,null,l().createElement(m,{msgId:"extension.catastoOpenPanel.services.parcels.filters.lands.name"}))},l().createElement(o.gG,{glyph:"1-layer"})):e===F.aK?l().createElement(j,{placement:"bottom",overlay:l().createElement(o.u,null,l().createElement(m,{msgId:"extension.catastoOpenPanel.services.parcels.filters.buildings.name"}))},l().createElement(o.gG,{glyph:"home"})):null}},{key:"printButton",name:"",frozen:!0,width:50,formatter:function(){let{row:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=null==t?void 0:t.immobile,n=null==t?void 0:t.propertyType;return s?l().createElement(Et,{tooltipId:A,tooltipPosition:"bottom",onClick:()=>e.props.onClickDownloadVisuraImSingola(s,n)},e.props.isStartedDownloadVisuraImSingola?l().createElement(o.gG,{glyph:"ban-circle",style:{color:"#333333"}}):l().createElement(o.gG,{glyph:"print",style:{color:"#333333"}})):null}},...p],v=!1,g=!0,h="extension.catastoOpenPanel.subjectProperties.name",T=this.props.doweHavePrint,E=this.props.doweHavePrint,w=!0;break;case F.ui:p=1===y.length?It.filter((e=>"selectButton"===e.key||y[0].buildingDetailColumns.includes(e.key))):It,!0===this.props.isTemporalSearchChecked&&!0===C&&(p=[...p,...this.props.extraColumns]),h="extension.catastoOpenPanel.buildingDetails.name",f=!0,w=!0;break;case F.EQ:p=1===y.length?_t.filter((e=>"selectButton"===e.key||y[0].landDetailColumnsKeys.includes(e.key))):_t,!0===this.props.isTemporalSearchChecked&&!0===C&&(p=[...p,...this.props.extraColumns]),h="extension.catastoOpenPanel.landDetails.name",f=!0,w=!0;break;case F.Ph:p=0!==(null===(r=this.props.ownerDetails.propertyOwnerColumnsKeys)||void 0===r?void 0:r.length)?jt.filter((e=>"selectButton"===e.key||this.props.ownerDetails.propertyOwnerColumnsKeys.includes(e.key))):jt,!0===this.props.isTemporalSearchChecked&&!0===this.props.ownerDetails.showDate&&(p=[...p,...this.props.extraColumns]),h="extension.catastoOpenPanel.owners",g=!0,T=this.props.doweHavePrint}return this.props.loadingResults?l().createElement("div",{className:"search-result-grid-loader"},l().createElement(Fe,{size:176})):l().createElement("div",null,u?l().createElement(wt,{active:!0,minHeight:d,columns:p,toolbar:l().createElement(St,{enableFilter:!0,title:"extension.catastoOpenPanel.noOwner",resumeButtonActive:g,resumeButtonTooltipId:"extension.catastoOpenPanel.resumePreviousResults",onResumeButton:g?this.props.resumePreviousResults:null,showPrintBtnPdf:T,showPrintBtnCsv:E,printTipId:A,showExtendBtn:w,columns:p,rows:this.props.rowResult,onClickDownloadVisura:this.props.onClickDownloadVisura,isStartedDownloadVisuraPdf:this.props.isStartedDownloadVisuraPdf,isStartedDownloadVisuraCsv:this.props.isStartedDownloadVisuraCsv,errorDownloadMsg:this.props.errorDownloadMsg})}):l().createElement(wt,{active:(null===(i=this.props.searchResults)||void 0===i?void 0:i.length)>0,enableFilter:!0,minHeight:d,columns:p,onRowSelect:b?this.props.loadSubjectPropertyData:v?this.zoomToProperty:f?this.props.loadPropertyOwners:()=>null,toolbar:l().createElement(St,{enableFilter:!0,title:h,resumeButtonActive:g,resumeButtonTooltipId:"extension.catastoOpenPanel.resumePreviousResults",onResumeButton:g?this.props.resumePreviousResults:null,showPrintBtnPdf:T,showPrintBtnCsv:E,printTipId:A,showExtendBtn:w,columns:p,rows:this.props.rowResult,onClickDownloadVisura:this.props.onClickDownloadVisura,isStartedDownloadVisuraPdf:this.props.isStartedDownloadVisuraPdf,isStartedDownloadVisuraCsv:this.props.isStartedDownloadVisuraCsv,errorDownloadMsg:this.props.errorDownloadMsg})}),this.props.searchResultType===F.Ph?l().createElement(Ct,{selectedImmobile:this.props.selectedImmobile}):null)})),Tt(this,"zoomToProperty",(e=>this.props.loadLayer((0,F.T8)(e,F.FP))))}componentWillReceiveProps(e){e.active!==this.props.active&&(this.props.setBackend(this.props.backend),this.props.setPrintEndPoint(this.props.printEndPointURL),this.props.setFixedComuni(this.props.fixedComuni))}render(){return l().createElement("div",{id:"cadastral-search-root",className:this.props.active?"mapstore-query-builder":"",style:this.props.style},l().createElement(f.Z,null,(e=>{let{width:t}=e;return l().createElement(P,{open:this.props.active&&!this.props.reduced,size:this.props.width/t>1?t:this.props.width,position:"right",bsStyle:"primary",title:l().createElement(m,{msgId:"extension.catastoOpenPanel.title"}),onClose:()=>this.props.deactivate(this.props),zIndex:1031,onReduce:this.props.onReduce},l().createElement(At,{filterServices:this.props.filterServices}),this.props.loadError?l().createElement(o.bZ,{bsStyle:"danger",style:{borderRadius:5}},l().createElement(m,{msgId:"extension.catastoOpenPanel.error"})):null,this.props.messageForUser?l().createElement(o.bZ,{bsStyle:"warning",style:{borderRadius:5}},l().createElement(m,{msgId:this.props.messageForUser})):null,this.renderSearchResults())})))}}Tt(Nt,"propTypes",{id:c().string,active:c().bool,reduced:c().bool,onReduce:c().func,closeGlyph:c().string,style:c().object,width:c().number,deactivate:c().func,loadError:c().bool,loadingResults:c().bool,loadedResults:c().bool,searchResults:c().array,searchResultType:c().string,loadSubjectPropertyData:c().func,resumePreviousResults:c().func,loadLayer:c().func,loadPropertyOwners:c().func,extraColumns:c().array,filterServices:c().array,ownerDetails:c().object,backend:c().object,setBackend:c().func,messageForUser:c().string,isTemporalSearchChecked:c().bool,selectedImmobile:c().object,printEndPointURL:c().string,setPrintEndPoint:c().func,doweHavePrint:c().bool,printObj:c().object,fixedComuni:c().object,setFixedComuni:c().func,rowResult:c().array,onClickDownloadVisura:c().func,isStartedDownloadVisuraPdf:c().bool,isStartedDownloadVisuraCsv:c().bool,errorDownloadMsg:c().object,onClickDownloadVisuraImSingola:c().func,isStartedDownloadVisuraImSingola:c().bool}),Tt(Nt,"defaultProps",{id:"mapstore-cadastral-search",active:!1,reduced:!1,onReduce:()=>{},closeGlyph:"1-close",width:660,loadError:!1,loadingResults:!1,loadedResults:!1,style:{width:"100%",height:"100%",pointerEvents:"none",backgroundColor:"transparent"},extraColumns:[{key:"startDate",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.extraColumns.startDate"}),resizable:!0,sortable:!0,filterable:!0},{key:"endDate",name:l().createElement(m,{msgId:"extension.catastoOpenPanel.extraColumns.endDate"}),resizable:!0,sortable:!0,filterable:!0}],messageForUser:null,filterServices:[{state_identifier:"parcels",landDetailColumnsKeys:["subordinate","quality","_class","hectares","are","centiare","lot","cadastralRent","agriculturalRent"],buildingDetailColumns:["subordinate","censusZone","category","_class","consistency","rent","lot"],useTemporalSearch:!0,useHistoricalSearch:!0},{state_identifier:"naturalSubjects",naturalSubjectColumnsKeys:["subjects","lastName","firstName","fiscalCode","dateOfBirth","cityOfBirth","province"],useTemporalSearch:!0,useHistoricalSearch:!0},{state_identifier:"legalSubjects",legalSubjectColumnsKeys:["subjects","businessName","vatNumber","branch","province"],useTemporalSearch:!0,useHistoricalSearch:!0}],ownerDetails:{subjectPropertyColumnsKeys:["immobile","city","section","sheet","number","subordinate","right","part","classification","_class","consistency","income","lot"],propertyOwnerColumnsKeys:["nominative","fiscalCode","city","right","part"],showDate:!0},backend:{name:"Geoserver",url:"http://geoserver:8080/geoserver/"},setBackend:()=>{},selectedImmobile:null,printEndPointURL:"",setPrintEndPoint:()=>{},printPath:"",fixedComuni:null,setFixedComuni:()=>{},onClickDownloadVisura:()=>{},onClickDownloadVisuraImSingola:()=>{}});const Rt=(0,D.zB)({active:L.jo,reduced:L.qQ,loadError:L.eH,messageForUser:L.n_,loadingResults:L.Yv,loadedResults:L.u2,searchResults:L.sO,searchResultType:L.R4,isTemporalSearchChecked:L.PT,selectedImmobile:L.Hs,doweHavePrint:L.E6,printObj:L.o4,rowResult:De,isStartedDownloadVisuraPdf:L.DM,isStartedDownloadVisuraCsv:L.Gl,errorDownloadMsg:L.NP,isStartedDownloadVisuraImSingola:L.ug}),kt=(0,v.connect)(Rt,{deactivate:h.sV,onReduce:h.$,loadSubjectPropertyData:h.c3,resumePreviousResults:h.MJ,loadLayer:h.vE,loadPropertyOwners:h.Tk,setBackend:h.CQ,setPrintEndPoint:h.Ac,setFixedComuni:h.hK,onClickDownloadVisura:h.OU,onClickDownloadVisuraImSingola:h.q8})(Nt),Lt={name:n.name,component:kt,epics:{...s(84900).Z(),...s(91213).Z()},reducers:{catastoOpen:s(1791).Z,resultGrid:s(84719).Z},containers:b}},1791:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var n=s(6980),a=s(72115);function l(){var e,t,s,l,o,r,i,c,u,d,p,m,h,b,v,f,g;let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{subjectForm:{firstName:"",lastName:"",birthDate:"",birthPlace:null,fiscalCode:"",subjectCode:"",businessName:"",vatNumber:"",identificationCode:""}},O=arguments.length>1?arguments[1]:void 0;switch(null==O?void 0:O.type){case n.er:return{...y,reduced:!1};case n.no:return{layer:null==y?void 0:y.layer,reduced:!1};case n.aj:return{...y,reduced:!0};case n.o2:return(null==y?void 0:y.selectedService)&&(null===(e=y.selectedService)||void 0===e?void 0:e.id)!==(null==O||null===(t=O.service)||void 0===t?void 0:t.id)?{backend:null==y?void 0:y.backend,fixedComuni:null==y?void 0:y.fixedComuni,printEndPoint:null==y?void 0:y.printEndPoint,doweHavePrint:null==y?void 0:y.doweHavePrint,selectedService:null==O?void 0:O.service,layer:null==y?void 0:y.layer}:{...y,selectedService:null==O?void 0:O.service,error:!1};case n.NJ:return(null==y?void 0:y.selectedSearchImmType)&&(null===(s=y.selectedSearchImmType)||void 0===s?void 0:s.id)!==(null==O||null===(l=O.serviceImmType)||void 0===l?void 0:l.value)?{...y,backend:null==y?void 0:y.backend,fixedComuni:null==y?void 0:y.fixedComuni,printEndPoint:null==y?void 0:y.printEndPoint,doweHavePrint:null==y?void 0:y.doweHavePrint,selectedSearchImmType:null==O?void 0:O.serviceImmType,layer:null==y?void 0:y.layer,selectedCity:null,isLoadingCities:!0,selectedSection:null,selectedSheet:null,selectedLand:null,selectedBuilding:null,searchResults:null,searchResultType:null,loadedResults:!1,selectedToponym:null,selectedImmType:null,hasSubmitedSearch:!1}:{...y,selectedSearchImmType:null==O?void 0:O.serviceImmType,error:!1};case n.vP:return{backend:null==y?void 0:y.backend,fixedComuni:null==y?void 0:y.fixedComuni,printEndPoint:null==y?void 0:y.printEndPoint,doweHavePrint:null==y?void 0:y.doweHavePrint,error:!0};case n.iz:return{...y,messageForUser:O.messageForUser};case n.sS:return{...y,layer:null==O?void 0:O.layer};case n.G$:return{...y,isLoadingCities:!0};case n.wE:return{...y,cities:null==O?void 0:O.cities,isLoadingCities:!1};case n.hH:const S=(null==y?void 0:y.selectedCity)&&(null===(o=y.selectedCity)||void 0===o?void 0:o.code)!==(null==O||null===(r=O.city)||void 0===r?void 0:r.code);return S?{...y,selectedCity:null==O?void 0:O.city,selectedSection:null,selectedSheet:null,selectedLand:null,selectedBuilding:null,searchResults:null,searchResultType:null,loadedResults:!1,selectedToponym:null,selectedImmType:null,hasSubmitedSearch:!1,cityChanged:S}:{...y,selectedCity:null==O?void 0:O.city,cityChanged:S};case n.vC:return{...y,isLoadingSections:!0};case n.Yp:return{...y,sections:null==O?void 0:O.sections,isLoadingSections:!1};case n.UG:const C=(null==y?void 0:y.selectedSection)&&(null===(i=y.selectedSection)||void 0===i?void 0:i.code)!==(null==O||null===(c=O.section)||void 0===c?void 0:c.code);return C?{...y,selectedSection:null==O?void 0:O.section,selectedSheet:null,selectedLand:null,selectedBuilding:null,sectionChanged:C,searchResults:null,searchResultType:null,loadedResults:!1}:{...y,selectedSection:null==O?void 0:O.section,sectionChanged:C};case n.yn:return{...y,isLoadingSheets:!0};case n.IK:return{...y,sheets:"_"===(null===(u=y.selectedSection)||void 0===u?void 0:u.value)?null==O?void 0:O.sheets:null==O?void 0:O.sheets.filter((e=>{var t,s;return(null===(t=e.feature.properties)||void 0===t?void 0:t.section)===(null===(s=y.selectedSection)||void 0===s?void 0:s.value)})),isLoadingSheets:!1};case n.D2:const T=(null==y?void 0:y.selectedSheet)&&(null===(d=y.selectedSheet)||void 0===d?void 0:d.number)!==(null==O||null===(p=O.sheet)||void 0===p?void 0:p.number);return T?{...y,selectedSheet:null==O?void 0:O.sheet,selectedLand:null,selectedBuilding:null,sheetChanged:T,searchResults:null,searchResultType:null,loadedResults:!1}:{...y,selectedSheet:null==O?void 0:O.sheet,sheetChanged:T};case n.y1:return{...y,isLoadingLands:!0};case n.h6:return{...y,lands:null==O?void 0:O.lands,isLoadingLands:!1};case n.TK:const E=(null==y?void 0:y.selectedLand)&&(null===(m=y.selectedLand)||void 0===m?void 0:m.number)!==(null==O||null===(h=O.land)||void 0===h?void 0:h.number);return E?{...y,selectedLand:null==O?void 0:O.land,landChanged:E,searchResults:null,searchResultType:null,loadedResults:!1}:{...y,selectedLand:null==O?void 0:O.land,landChanged:E};case n.zY:return{...y,isLoadingBuildings:!0};case n.iv:return{...y,buildings:null==O?void 0:O.buildings,isLoadingBuildings:!1};case n.Dh:const A=(null==y?void 0:y.selectedBuilding)&&(null===(b=y.selectedBuilding)||void 0===b?void 0:b.number)!==(null==O||null===(v=O.building)||void 0===v?void 0:v.number);return A?{...y,selectedBuilding:null==O?void 0:O.building,searchResults:null,searchResultType:null,loadedResults:!1,buildingChanged:A}:{...y,selectedBuilding:null==O?void 0:O.building,buildingChanged:A};case n.bj:const w=(null==y?void 0:y.selectedSubjectFilter)&&(null===(f=y.selectedSubjectFilter)||void 0===f?void 0:f.id)!==(null==O||null===(g=O.filter)||void 0===g?void 0:g.id);return w?{...y,selectedSubjectFilter:null==O?void 0:O.filter,subjectForm:{firstName:"",lastName:"",birthDate:"",birthPlace:null,fiscalCode:"",subjectCode:"",businessName:"",vatNumber:"",identificationCode:""},selectedBirthPlace:null,searchResults:w?[]:y.searchResults,loadedResults:!w&&y.loadedResults}:{...y,selectedSubjectFilter:null==O?void 0:O.filter};case n.M9:return{...y,subjectForm:{...y.subjectForm,type:null==O?void 0:O.subjectType}};case n.VH:return{...y,subjectForm:{...y.subjectForm,[O.payload.field]:O.payload.value}};case n.dP:return{...y,isLoadingTown:!0};case n.k8:return{...y,towns:O.towns,isLoadingTown:!1};case n.F8:return{...y,loadingResults:!0,loadedResults:!1};case n.u_:return{...y,searchResults:null==O?void 0:O.legalSubjects,searchResultType:a.sZ,loadingResults:!1,loadedResults:!0};case n.WV:return{...y,loadingResults:!0,loadedResults:!1};case n.iL:return{...y,searchResults:null==O?void 0:O.naturalSubjects,searchResultType:a.lR,loadingResults:!1,loadedResults:!0};case n.xC:return{...y,loadingResults:!0,loadedResults:!1};case n.qT:return{...y,previousSearchResults:y.searchResults,previousSearchResultType:y.searchResultType,searchResults:null==O?void 0:O.subjectProperties,searchResultType:a.FP,loadingResults:!1,loadedResults:!0};case n.h:return{...y,searchResults:y.previousSearchResults,searchResultType:y.previousSearchResultType,previousSearchResults:null,previousSearchResultType:null,printObj:null==y?void 0:y.previousPrintObj};case n.MY:return{...y,loadingResults:!0,loadedResults:!1};case n.qw:return{...y,loadingResults:!1,loadedResults:!0};case n.Pi:return{...y,loadingResults:!0,loadedResults:!1};case n.L3:return{...y,loadingResults:!1,loadedResults:!0,searchResults:null==O?void 0:O.buildingDetails,searchResultType:a.ui};case n.n6:return{...y,loadingResults:!0,loadedResults:!1};case n.Il:return{...y,loadingResults:!1,loadedResults:!0,searchResults:null==O?void 0:O.landDetails,searchResultType:a.EQ};case n.YU:return{...y,loadingResults:!0,loadedResults:!1,selectedImmobile:null==O?void 0:O.property};case n.p5:return{...y,loadingResults:!1,loadedResults:!0,previousSearchResults:y.searchResults,previousSearchResultType:y.searchResultType,searchResults:null==O?void 0:O.propertyOwners,searchResultType:a.Ph};case n.Xg:return{...y,backend:O.backend};case n.Jk:return{...y,isTemporalSearchChecked:O.isTemporalSearchChecked,startDate:null,endDate:null,subjectForm:{firstName:"",lastName:"",birthDate:"",birthPlace:null,fiscalCode:"",subjectCode:"",businessName:"",vatNumber:"",identificationCode:""},selectedSubjectFilter:null,selectedCity:null,selectedSection:null,selectedSheet:null,selectedLand:null,selectedBuilding:null,searchResults:null,searchResultType:null,loadedResults:!1,selectedToponym:null,selectedImmType:null,hasSubmitedSearch:!1};case n.JT:return{...y,isHistoricalSearchChecked:O.isHistoricalSearchChecked,subjectForm:{firstName:"",lastName:"",birthDate:"",birthPlace:null,fiscalCode:"",subjectCode:"",businessName:"",vatNumber:"",identificationCode:""},selectedSubjectFilter:null,selectedCity:null,selectedSection:null,selectedSheet:null,selectedLand:null,selectedBuilding:null,searchResults:null,searchResultType:null,loadedResults:!1,selectedToponym:null,selectedImmType:null,hasSubmitedSearch:!1,selectedAddress:null,houseNumber:""};case n.jG:return{...y,startDate:O.startDate,subjectForm:{firstName:"",lastName:"",birthDate:"",birthPlace:null,fiscalCode:"",subjectCode:"",businessName:"",vatNumber:"",identificationCode:""},selectedSubjectFilter:null,selectedCity:null,selectedSection:null,selectedSheet:null,selectedLand:null,selectedBuilding:null,searchResults:null,searchResultType:null,loadedResults:!1,selectedToponym:null,selectedImmType:null,hasSubmitedSearch:!1};case n.R5:return{...y,endDate:O.endDate,subjectForm:{firstName:"",lastName:"",birthDate:"",birthPlace:null,fiscalCode:"",subjectCode:"",businessName:"",vatNumber:"",identificationCode:""},selectedSubjectFilter:null,selectedCity:null,selectedSection:null,selectedSheet:null,selectedLand:null,selectedBuilding:null,searchResults:null,searchResultType:null,loadedResults:!1,selectedToponym:null,selectedImmType:null,hasSubmitedSearch:!1};case n.dO:return{...y,isLoadingToponym:!0};case n.Xj:return{...y,toponyms:O.toponyms,isLoadingToponym:!1};case n.Oh:return{...y,selectedToponym:O.toponym};case n.Cy:return{...y,isLoadingAddress:!0};case n.mW:return{...y,addresses:O.addresses,isLoadingAddress:!1};case n.nL:return{...y,selectedAddress:O.address,isLoadingAddress:!1};case n.aY:return{...y,houseNumber:O.houseNumber,selectedLand:null,selectedBuilding:null,searchResults:null,searchResultType:null,loadedResults:!1,hasSubmitedSearch:!1,isLoadingAddress:!1};case n.Yq:return{...y,hasSubmitedSearch:!0,isLoadingLands:!0,isLoadingBuildings:!0};case n.QQ:return{...y,selectedImmType:O.immobileType,selectedLand:null,selectedBuilding:null,searchResults:null,searchResultType:null,loadedResults:!1,hasSubmitedSearch:!1};case n.V_:return{...y,immobileCode:O.immobileCode,selectedLand:null,selectedBuilding:null,searchResults:null,searchResultType:null,loadedResults:!1,hasSubmitedSearch:!1};case n.OP:const P=""!==O.printEndPoint;return{...y,printEndPoint:O.printEndPoint,doweHavePrint:P};case n.TV:return(null==O?void 0:O.printObj.pathName)===a.iA||(null==O?void 0:O.printObj.pathName)===a.ZI?{...y,printObj:O.printObj,previousPrintObj:O.printObj}:{...y,printObj:O.printObj};case n.Rf:return{...y,fixedComuni:O.fixedComuni};case n.U0:return"pdf"===O.fileType?{...y,isStartedDownloadVisuraPdf:!0}:{...y,isStartedDownloadVisuraCsv:!0};case n.IO:return"pdf"===O.fileType?{...y,isStartedDownloadVisuraPdf:!1}:{...y,isStartedDownloadVisuraCsv:!1};case n.LY:return O.fileType,{...y,errorDownloadMsg:O.errorMsg,isStartedDownloadVisuraPdf:!1};case n.TD:return{...y,startDownloadVisuraImSingola:!0};case n.kc:case n.n4:return{...y,startDownloadVisuraImSingola:!1};default:return y}}},84719:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s(32509);function a(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;switch(s.type){case n.KO:return{rows:s.rows,initialRows:s.rows};case n.Nu:const a=(null==t?void 0:t.filters)||[];return a.splice(a.indexOf(a.find((e=>e.column.key===s.filter.column.key)))),a.push(s.filter),{...t,filters:a};case n.ge:return{...t,rows:t.initialRows};case n.v$:let l=t.initialRows;return null==t||t.filters.forEach((e=>{const t=e.filterTerm.toUpperCase();if(""===t)return;const s=e.column.key;l=l.filter((e=>{const n=e[s];return null!==n&&("string"!=typeof n?n.toString().toUpperCase().match(t):n.toUpperCase().match(t))}))})),{...t,rows:l};case n.m6:const o=s.sortColumn,r=s.sortDirection,i=(e,t)=>e[o]===t[o]?0:null===e[o]?1:null===t[o]?-1:"ASC"===r?e[o]>t[o]?1:-1:e[o]<t[o]?1:-1,c=t.rows.slice(0),u="NONE"===r&&!(null!=t&&null!==(e=t.filters)&&void 0!==e&&e.length)>0?t.initialRows:c.sort(i);return{...t,rows:u};default:return t}}},9890:(e,t,s)=>{"use strict";s.d(t,{$h:()=>p,Cb:()=>r,DM:()=>ae,E6:()=>te,FB:()=>Z,FX:()=>se,Gl:()=>le,Hs:()=>Q,L0:()=>N,NP:()=>oe,O4:()=>S,Ot:()=>K,PT:()=>L,QA:()=>M,R4:()=>P,RR:()=>f,Sm:()=>X,TB:()=>$,Tn:()=>H,VC:()=>j,WN:()=>_,Xp:()=>O,Y3:()=>g,Yv:()=>D,Zx:()=>y,d5:()=>b,dN:()=>T,dt:()=>Y,eH:()=>c,f5:()=>U,fu:()=>v,gk:()=>G,hj:()=>R,hz:()=>W,iL:()=>ee,jo:()=>l,le:()=>A,m:()=>B,m7:()=>F,mU:()=>E,n_:()=>u,nx:()=>h,o4:()=>ne,oQ:()=>m,oY:()=>i,oq:()=>V,qM:()=>k,qQ:()=>o,r4:()=>J,sO:()=>w,u2:()=>x,ug:()=>re,v7:()=>C,vI:()=>q,wF:()=>d,z_:()=>I,zm:()=>z});var n=s(33437),a=s.n(n);const l=e=>"catastoOpen"===a()(e,"controls.catastoOpen.active")||a()(e,"controls.catastoOpen.enabled"),o=e=>a()(e,"catastoOpen.reduced"),r=e=>a()(e,"catastoOpen.selectedService"),i=e=>a()(e,"catastoOpen.selectedSearchImmType"),c=e=>a()(e,"catastoOpen.error"),u=e=>a()(e,"catastoOpen.messageForUser"),d=e=>a()(e,"catastoOpen.cities"),p=e=>a()(e,"catastoOpen.selectedCity"),m=e=>a()(e,"catastoOpen.isLoadingCities"),h=e=>a()(e,"catastoOpen.sections"),b=e=>a()(e,"catastoOpen.selectedSection"),v=e=>a()(e,"catastoOpen.isLoadingSections"),f=e=>a()(e,"catastoOpen.sheets"),g=e=>a()(e,"catastoOpen.selectedSheet"),y=e=>a()(e,"catastoOpen.isLoadingSheets"),O=e=>a()(e,"catastoOpen.lands"),S=e=>a()(e,"catastoOpen.selectedLand"),C=e=>a()(e,"catastoOpen.isLoadingLands"),T=e=>a()(e,"catastoOpen.buildings"),E=e=>a()(e,"catastoOpen.selectedBuilding"),A=e=>a()(e,"catastoOpen.isLoadingBuildings"),w=e=>a()(e,"catastoOpen.searchResults"),P=e=>a()(e,"catastoOpen.searchResultType"),D=e=>a()(e,"catastoOpen.loadingResults"),x=e=>a()(e,"catastoOpen.loadedResults"),_=e=>a()(e,"catastoOpen.selectedSubjectFilter"),I=e=>a()(e,"catastoOpen.subjectForm"),j=e=>{var t,s,n,a,l,o,r,i,c,u,d,p,m,h,b,v,f,g,y,O,S;return(null===(t=e.catastoOpen)||void 0===t||null===(s=t.subjectForm)||void 0===s||null===(n=s.firstName)||void 0===n?void 0:n.length)>0&&(null===(a=e.catastoOpen)||void 0===a||null===(l=a.subjectForm)||void 0===l||null===(o=l.lastName)||void 0===o?void 0:o.length)>0||16===(null===(r=e.catastoOpen)||void 0===r||null===(i=r.subjectForm)||void 0===i||null===(c=i.fiscalCode)||void 0===c?void 0:c.length)||(null===(u=e.catastoOpen)||void 0===u||null===(d=u.subjectForm)||void 0===d||null===(p=d.vatNumber)||void 0===p?void 0:p.length)>10||(null===(m=e.catastoOpen)||void 0===m||null===(h=m.subjectForm)||void 0===h||null===(b=h.businessName)||void 0===b?void 0:b.length)>0||(null===(v=e.catastoOpen)||void 0===v||null===(f=v.subjectForm)||void 0===f||null===(g=f.subjectCode)||void 0===g?void 0:g.length)>0||(null===(y=e.catastoOpen)||void 0===y||null===(O=y.subjectForm)||void 0===O||null===(S=O.identificationCode)||void 0===S?void 0:S.length)>0},N=e=>a()(e,"catastoOpen.isLoadingTown"),R=e=>a()(e,"catastoOpen.towns"),k=e=>a()(e,"catastoOpen.backend"),L=e=>a()(e,"catastoOpen.isTemporalSearchChecked"),B=e=>a()(e,"catastoOpen.isHistoricalSearchChecked"),F=e=>a()(e,"catastoOpen.startDate"),z=e=>a()(e,"catastoOpen.endDate"),M=e=>a()(e,"catastoOpen.toponyms"),V=e=>a()(e,"catastoOpen.selectedToponym"),U=e=>a()(e,"catastoOpen.isLoadingToponym"),H=e=>a()(e,"catastoOpen.addresses"),q=e=>a()(e,"catastoOpen.selectedAddress"),G=e=>a()(e,"catastoOpen.isLoadingAddress"),Z=e=>{var t,s;return(null===(t=e.catastoOpen)||void 0===t||null===(s=t.houseNumber)||void 0===s?void 0:s.length)>0},Y=e=>a()(e,"catastoOpen.houseNumber"),W=e=>a()(e,"catastoOpen.hasSubmitedSearch"),J=e=>a()(e,"catastoOpen.selectedImmType"),X=e=>a()(e,"catastoOpen.immobileCode"),K=e=>{var t,s;return(null===(t=e.catastoOpen)||void 0===t||null===(s=t.immobileCode)||void 0===s?void 0:s.length)>0},Q=e=>a()(e,"catastoOpen.selectedImmobile"),$=e=>{var t;return!(null===(t=e.catastoOpen)||void 0===t||!t.fixedComuni)},ee=e=>a()(e,"catastoOpen.fixedComuni"),te=e=>a()(e,"catastoOpen.doweHavePrint"),se=e=>a()(e,"catastoOpen.printEndPoint"),ne=e=>a()(e,"catastoOpen.printObj"),ae=e=>a()(e,"catastoOpen.isStartedDownloadVisuraPdf"),le=e=>a()(e,"catastoOpen.isStartedDownloadVisuraCsv"),oe=e=>a()(e,"catastoOpen.errorDownloadMsg"),re=e=>a()(e,"catastoOpen.startDownloadVisuraImSingola")},72115:(e,t,s)=>{"use strict";s.d(t,{Ac:()=>O,B1:()=>q,DN:()=>x,EQ:()=>b,EY:()=>A,FP:()=>h,Gt:()=>C,JN:()=>u,MO:()=>V,Mh:()=>g,NR:()=>r,Ph:()=>f,Ql:()=>T,RI:()=>Z,RL:()=>J,RX:()=>p,Ro:()=>ee,S1:()=>le,T8:()=>W,TU:()=>N,Tt:()=>G,Tu:()=>I,Ul:()=>ae,V5:()=>M,We:()=>o,ZD:()=>D,ZI:()=>te,Ze:()=>K,Zm:()=>ne,_5:()=>P,_J:()=>l,aG:()=>R,aK:()=>z,ep:()=>d,fs:()=>_,fv:()=>y,gf:()=>j,h9:()=>$,iA:()=>se,ju:()=>X,l3:()=>m,lR:()=>L,mG:()=>w,nB:()=>c,oO:()=>S,oQ:()=>H,rE:()=>F,sZ:()=>B,su:()=>E,tE:()=>k,uG:()=>a,uO:()=>i,uZ:()=>U,ui:()=>v,x:()=>Q,y2:()=>n});const n="CatastoOpen:catasto_comuni",a="CatastoOpen:catasto_comuni_anag",l="CatastoOpen:catasto_sezioni",o="CatastoOpen:catasto_fogli",r="CatastoOpen:catasto_terreni",i="CatastoOpen:catasto_fabbricati",c="CatastoOpen:catasto_persone_fisiche",u="CatastoOpen:catasto_persone_fisiche_with_bday",d="CatastoOpen:catasto_persone_fisiche_with_bplace",p="CatastoOpen:catasto_persone_fisiche_with_both",m="CatastoOpen:catasto_persone_giuridiche",h="CatastoOpen:catasto_particelle_soggetto",b="CatastoOpen:catasto_dettagli_terreno",v="CatastoOpen:catasto_dettagli_fabbricato",f="CatastoOpen:catasto_titolari_immobile",g="CatastoOpen:catasto_toponimo",y="CatastoOpen:catasto_indirizzo_btop",O="CatastoOpen:catasto_indirizzo_immobile",S="CatastoOpen:catasto_fabbricati_bcodice",C="CatastoOpen:catasto_terreni_bcodice",T="CatastoOpen:catasto_dettagli_fabbricato_byimm",E="CatastoOpen:catasto_comuni_temp",A="CatastoOpen:catasto_sezioni_temp",w="CatastoOpen:catasto_terreni_temp",P="CatastoOpen:catasto_fabbricati_temp",D="CatastoOpen:catasto_particelle_soggetto_temp",x="CatastoOpen:catasto_dettagli_terreno_temp",_="CatastoOpen:catasto_dettagli_fabbricato_temp",I="CatastoOpen:catasto_titolari_immobile_temp",j="CatastoOpen:catasto_indrizzo_immobile_temp",N="CatastoOpen:catasto_fabbricati_bcodice_temp",R="CatastoOpen:catasto_terreni_bcodice_temp",k="CatastoOpen:catasto_dettagli_fabbricato_byimm_temp",L="P",B="G",F="Terreni",z="Fabbricati",M="EPSG:4326",V="EPSG:4326",U=[{id:"PARCEL",placeholder:"extension.catastoOpenPanel.services.parcels.placeholder",filters:[{id:"IMMOBILE",placeholder:"extension.catastoOpenPanel.services.parcels.filtersTypes.immobile.placeholder",filters:[{id:"LANDS",name:"extension.catastoOpenPanel.services.parcels.filters.lands.name"},{id:"BUILDINGS",name:"extension.catastoOpenPanel.services.parcels.filters.buildings.name"}]},{id:"IMMOBILEBYADD",placeholder:"extension.catastoOpenPanel.services.parcels.filtersTypes.immobilebyadd.placeholder",filters:[{id:"TOPONYM",name:"extension.catastoOpenPanel.services.parcels.filtersTypes.immobilebyadd.filters.toponym.name"},{id:"ADDRESS-NAME",name:"extension.catastoOpenPanel.services.parcels.filtersTypes.immobilebyadd.filters.addressName.name"},{id:"NCIVICO",name:"extension.catastoOpenPanel.services.parcels.filtersTypes.immobilebyadd.filters.ncivico.name"}]},{id:"IMMOBILEBYCODE",placeholder:"extension.catastoOpenPanel.services.parcels.filtersTypes.immobilebycode.placeholder",filters:[{id:"IMMTYPE",name:"extension.catastoOpenPanel.services.parcels.filtersTypes.immobilebycode.filters.immobileType.name"},{id:"IMMCODE",name:"extension.catastoOpenPanel.services.parcels.filtersTypes.immobilebycode.filters.immobileCode.name"}]}],state_identifier:"parcels"},{id:"NATURAL-SUBJECT",placeholder:"extension.catastoOpenPanel.services.naturalSubjects.placeholder",filters:[{id:"FIRST-AND-LAST-NAME",name:"extension.catastoOpenPanel.services.naturalSubjects.filters.firstAndLastName.name",placeholder:"extension.catastoOpenPanel.services.naturalSubjects.filters.firstAndLastName.placeholder",filters:[{id:"FIRST-NAME",name:"extension.catastoOpenPanel.services.naturalSubjects.filters.firstAndLastName.filters.firstName.name"},{id:"LAST-NAME",name:"extension.catastoOpenPanel.services.naturalSubjects.filters.firstAndLastName.filters.lastName.name"},{id:"BIRTH-DATE",name:"extension.catastoOpenPanel.services.naturalSubjects.filters.firstAndLastName.filters.birthDate.name"},{id:"BIRTH-PLACE",name:"extension.catastoOpenPanel.services.naturalSubjects.filters.firstAndLastName.filters.birthPlace.name"}]},{id:"FISCAL-CODE",name:"extension.catastoOpenPanel.services.naturalSubjects.filters.fiscalCode.name",placeholder:"extension.catastoOpenPanel.services.naturalSubjects.filters.fiscalCode.placeholder"},{id:"SUBJECT-CODE",name:"extension.catastoOpenPanel.services.naturalSubjects.filters.subjectCode.name",placeholder:"extension.catastoOpenPanel.services.naturalSubjects.filters.subjectCode.placeholder"}],state_identifier:"naturalSubjects"},{id:"LEGAL-SUBJECT",placeholder:"extension.catastoOpenPanel.services.legalSubjects.placeholder",filters:[{id:"VAT-NUMBER",name:"extension.catastoOpenPanel.services.legalSubjects.filters.vatNumber.name",placeholder:"extension.catastoOpenPanel.services.legalSubjects.filters.vatNumber.placeholder"},{id:"BUSINESS-NAME",name:"extension.catastoOpenPanel.services.legalSubjects.filters.businessName.name",placeholder:"extension.catastoOpenPanel.services.legalSubjects.filters.businessName.placeholder"},{id:"IDENTIFICATION-CODE",name:"extension.catastoOpenPanel.services.legalSubjects.filters.identificationCode.name",placeholder:"extension.catastoOpenPanel.services.legalSubjects.filters.identificationCode.placeholder"}],state_identifier:"legalSubjects"}],H=e=>{const t=e.properties;return{code:null==t?void 0:t.code,name:null==t?void 0:t.name}},q=e=>{const t=null==e?void 0:e.properties;return{name:null==t?void 0:t.name}},G=e=>{var t,s,n;return{number:null==e||null===(t=e.properties)||void 0===t?void 0:t.number,section:null==e||null===(s=e.properties)||void 0===s?void 0:s.section,id:null==e?void 0:e.id,sheet:null==e||null===(n=e.properties)||void 0===n?void 0:n.sheet,feature:e}},Z=e=>{var t;const s=null==e?void 0:e.properties,n=null==s?void 0:s.subjects.replaceAll(",","\\,"),a=null==s?void 0:s.subjecttype,l=(null==s?void 0:s.province)||null;switch(a){case L:return{subjects:n,subjectType:a,dateOfBirth:(null==s||null===(t=s.dateofbirth)||void 0===t?void 0:t.replace("Z",""))||"_",cityOfBirth:(null==s?void 0:s.cityofbirth)||"_",fiscalCode:(null==s?void 0:s.fiscalcode)||"_",firstName:(null==s?void 0:s.firstname)||null,lastName:(null==s?void 0:s.lastname)||null,province:l};case B:return{subjects:n,subjectType:a,businessName:(null==s?void 0:s.businessname)||null,vatNumber:(null==s?void 0:s.vatnumber)||null,branch:(null==s?void 0:s.branch)||null,province:l};default:return s}},Y=e=>{switch(e){case o:return{weight:2,radius:10,opacity:1,fillOpacity:.1,color:"rgba(0, 0, 0, 0.4)",fillColor:"rgba(0, 0, 0, 0.7)"};case r:return{weight:2,radius:10,opacity:1,fillOpacity:.1,color:"rgba(0, 255, 0, 0.4)",fillColor:"rgba(0, 255, 0, 0.7)"};case i:return{weight:2,radius:10,opacity:1,fillOpacity:.1,color:"rgba(255, 0, 0, 0.4)",fillColor:"rgba(255, 0, 0, 0.7)"};default:return{}}},W=(e,t)=>{var s,n;let a={};return 4===(null==e||null===(s=e.feature)||void 0===s||null===(n=s.bbox)||void 0===n?void 0:n.length)?(a.layerType=t,a.type="vector",a.visibility=!0,a.id=e.feature.id,a.hideLoading=!0,a.bbox={bounds:{minx:e.feature.bbox[0],miny:e.feature.bbox[1],maxx:e.feature.bbox[2],maxy:e.feature.bbox[3]},crs:M},a.features=[e.feature],t===h?(null==e?void 0:e.propertyType)===F?a.style=Y(r):(null==e?void 0:e.propertyType)===z&&(a.style=Y(i)):a.style=Y(t),a.title=((e,t)=>{var s;const n=null==e||null===(s=e.feature)||void 0===s?void 0:s.properties,a=null==n?void 0:n.citycode,l="-".concat(null==n?void 0:n.section),r="-".concat(null==n?void 0:n.sheet),i=t!==o&&"-".concat(null==n?void 0:n.number);return a.concat(l).concat(r).concat(i||"")})(e,t)):a=void 0,a},J=e=>{const t=null==e?void 0:e.properties;return{city:null==t?void 0:t.city,cityCode:null==t?void 0:t.citycode,section:null==t?void 0:t.section,sheet:null==t?void 0:t.sheet,number:null==t?void 0:t.number,subordinate:null==t?void 0:t.subordinate,right:null==t?void 0:t.right,part:null==t?void 0:t.part,classification:null==t?void 0:t.classification,_class:null==t?void 0:t.class,consistency:null==t?void 0:t.consistency,income:null==t?void 0:t.income,lot:null==t?void 0:t.lot,propertyType:null==t?void 0:t.propertytype,feature:e,extent:null==t?void 0:t.extent,immobile:null==t?void 0:t.immobile,startDate:null==t?void 0:t.startdate,endDate:null==t?void 0:t.enddate}},X=e=>{const t=null==e?void 0:e.properties;return{property:t.property,propertyType:t.propertytype,subordinate:null===(null==t?void 0:t.subordinate)?"_":null==t?void 0:t.subordinate,censusZone:null==t?void 0:t.censuszone,category:null==t?void 0:t.category,_class:null==t?void 0:t._class,consistency:null==t?void 0:t.consistency,rent:null==t?void 0:t.rent,lot:null==t?void 0:t.lot,startDate:null==t?void 0:t.startdate,endDate:null==t?void 0:t.enddate,citycode:null==t?void 0:t.citycode,sectioncode:null==t?void 0:t.sectioncode,progressiv:null==t?void 0:t.progressiv,sheetcode:null==t?void 0:t.sheetcode,particella:null==t?void 0:t.particella,province:null==t?void 0:t.province,numerof:null==t?void 0:t.numero_f,superficie:null==t?void 0:t.superficie,rendital:null==t?void 0:t.rendita_l,lotto:null==t?void 0:t.lotto,edificio:null==t?void 0:t.edificio,scala:null==t?void 0:t.scala,interno1:null==t?void 0:t.interno_1,interno2:null==t?void 0:t.interno_2,piano1:null==t?void 0:t.piano_1,piano2:null==t?void 0:t.piano_2,piano3:null==t?void 0:t.piano_3,piano4:null==t?void 0:t.piano_4,genregist:null==t?void 0:t.gen_regist,gentipo:null==t?void 0:t.gen_tipo,gennumero:null==t?void 0:t.gen_numero,genprogre:null==t?void 0:t.gen_progre,genanno:null==t?void 0:t.gen_anno,conregist:null==t?void 0:t.con_regist,contipo:null==t?void 0:t.con_tipo,connumero:null==t?void 0:t.con_numero,conprogre:null==t?void 0:t.con_progre,conanno:null==t?void 0:t.con_anno,annotazion:null==t?void 0:t.annotazion,mutaziniz:null==t?void 0:t.mutaz_iniz,mutazfine:null==t?void 0:t.mutaz_fine,protnotif:null==t?void 0:t.prot_notif,datanotif:null==t?void 0:t.data_notif,gencausa:null==t?void 0:t.gen_causa,gendescr:null==t?void 0:t.gen_descr,concausa:null==t?void 0:t.con_causa,condescr:null==t?void 0:t.con_descr,flagclass:null==t?void 0:t.flag_class}},K=e=>{const t=null==e?void 0:e.properties;return{property:t.property,propertyType:t.propertytype,subordinate:null===(null==t?void 0:t.subordinate)?"_":null==t?void 0:t.subordinate,quality:null==t?void 0:t.quality,_class:null==t?void 0:t.class,hectares:null==t?void 0:t.hectares,are:null==t?void 0:t.are,centiare:null==t?void 0:t.centiare,lot:null==t?void 0:t.lot,cadastralRent:null==t?void 0:t.cadastralRent,agriculturalRent:null==t?void 0:t.agriculturalRent,startDate:null==t?void 0:t.startdate,endDate:null==t?void 0:t.enddate,citycode:null==t?void 0:t.citycode,sectioncode:null==t?void 0:t.sectioncode,progressiv:null==t?void 0:t.progressiv,province:null==t?void 0:t.province,sheetcode:null==t?void 0:t.sheetcode,particella:null==t?void 0:t.particella,numerof:null==t?void 0:t.numero_f,flagredd:null==t?void 0:t.flag_redd,flagporz:null==t?void 0:t.flag_porz,flagdeduz:null==t?void 0:t.flag_deduz,dominicl:null==t?void 0:t.dominic_l,dominice:null==t?void 0:t.dominic_e,agrariol:null==t?void 0:t.agrario_l,agrarioe:null==t?void 0:t.agrario_e,genregist:null==t?void 0:t.gen_regist,gentipo:null==t?void 0:t.gen_tipo,gennumero:null==t?void 0:t.gen_numero,genprogre:null==t?void 0:t.gen_progre,genanno:null==t?void 0:t.gen_anno,conregist:null==t?void 0:t.con_regist,contipo:null==t?void 0:t.con_tipo,connumero:null==t?void 0:t.con_numero,conprogre:null==t?void 0:t.con_progre,conanno:null==t?void 0:t.con_anno,annotazion:null==t?void 0:t.annotazion,mutaziniz:null==t?void 0:t.mutaz_iniz,mutazfine:null==t?void 0:t.mutaz_fine,gencausa:null==t?void 0:t.gen_causa,gendescr:null==t?void 0:t.gen_descr,concausa:null==t?void 0:t.con_causa,condescr:null==t?void 0:t.con_descr}},Q=e=>{const t=null==e?void 0:e.properties;return{nominative:null==t?void 0:t.nominative,fiscalCode:null==t?void 0:t.fiscalcode,city:null==t?void 0:t.city,right:null==t?void 0:t.right,part:null==t?void 0:t.part,startDate:null==t?void 0:t.startdate,endDate:null==t?void 0:t.enddate}},$=e=>(e.setMinutes(e.getMinutes()+480),e),ee=()=>{let e=new Date;return new Date(e.setDate(e.getDate()+1))},te="catasto/stampa/ricerca/persone_fisiche",se="catasto/stampa/ricerca/persone_giuridiche",ne="catasto/stampa/ricerca/immobili",ae="catasto/stampa/visura",le=(e,t)=>{const s=parseInt(null==e?void 0:e.subordinate,10),n=parseInt(null==t?void 0:t.subordinate,10);if(isNaN(s)&&isNaN(n))try{return null==e?void 0:e.subordinate.localeCompare(null==t?void 0:t.subordinate)}catch(e){return 1}else{if(isNaN(s))return 1;if(isNaN(n))return-1;if(s<n)return-1;if(s>n)return 1}const a=null==e?void 0:e.subordinate.replace(s.toString(),""),l=null==t?void 0:t.subordinate.replace(n.toString(),"");return a.localeCompare(l)}},46700:(e,t,s)=>{var n={"./af":18533,"./af.js":18533,"./ar":17731,"./ar-dz":58711,"./ar-dz.js":58711,"./ar-kw":66235,"./ar-kw.js":66235,"./ar-ly":75022,"./ar-ly.js":75022,"./ar-ma":35625,"./ar-ma.js":35625,"./ar-sa":54563,"./ar-sa.js":54563,"./ar-tn":20945,"./ar-tn.js":20945,"./ar.js":17731,"./az":69191,"./az.js":69191,"./be":41348,"./be.js":41348,"./bg":15208,"./bg.js":15208,"./bm":89102,"./bm.js":89102,"./bn":29170,"./bn.js":29170,"./bo":26411,"./bo.js":26411,"./br":57027,"./br.js":57027,"./bs":71850,"./bs.js":71850,"./ca":7913,"./ca.js":7913,"./cs":41872,"./cs.js":41872,"./cv":36944,"./cv.js":36944,"./cy":80530,"./cy.js":80530,"./da":46790,"./da.js":46790,"./de":79154,"./de-at":97077,"./de-at.js":97077,"./de-ch":61802,"./de-ch.js":61802,"./de.js":79154,"./dv":34941,"./dv.js":34941,"./el":93333,"./el.js":93333,"./en-au":61015,"./en-au.js":61015,"./en-ca":84286,"./en-ca.js":84286,"./en-gb":91486,"./en-gb.js":91486,"./en-ie":66689,"./en-ie.js":66689,"./en-il":51716,"./en-il.js":51716,"./en-nz":178,"./en-nz.js":178,"./eo":82780,"./eo.js":82780,"./es":53363,"./es-do":53380,"./es-do.js":53380,"./es-us":73649,"./es-us.js":73649,"./es.js":53363,"./et":38640,"./et.js":38640,"./eu":54416,"./eu.js":54416,"./fa":33764,"./fa.js":33764,"./fi":72335,"./fi.js":72335,"./fo":55445,"./fo.js":55445,"./fr":74527,"./fr-ca":95598,"./fr-ca.js":95598,"./fr-ch":5158,"./fr-ch.js":5158,"./fr.js":74527,"./fy":51749,"./fy.js":51749,"./gd":31485,"./gd.js":31485,"./gl":76070,"./gl.js":76070,"./gom-latn":18610,"./gom-latn.js":18610,"./gu":47861,"./gu.js":47861,"./he":12816,"./he.js":12816,"./hi":80801,"./hi.js":80801,"./hr":28622,"./hr.js":28622,"./hu":80846,"./hu.js":80846,"./hy-am":33663,"./hy-am.js":33663,"./id":56886,"./id.js":56886,"./is":5322,"./is.js":5322,"./it":49777,"./it.js":49777,"./ja":67753,"./ja.js":67753,"./jv":13489,"./jv.js":13489,"./ka":52923,"./ka.js":52923,"./kk":75769,"./kk.js":75769,"./km":34335,"./km.js":34335,"./kn":29973,"./kn.js":29973,"./ko":22639,"./ko.js":22639,"./ky":89869,"./ky.js":89869,"./lb":3315,"./lb.js":3315,"./lo":28009,"./lo.js":28009,"./lt":47260,"./lt.js":47260,"./lv":64440,"./lv.js":64440,"./me":54124,"./me.js":54124,"./mi":21887,"./mi.js":21887,"./mk":3992,"./mk.js":3992,"./ml":62806,"./ml.js":62806,"./mr":61780,"./mr.js":61780,"./ms":1158,"./ms-my":61236,"./ms-my.js":61236,"./ms.js":1158,"./mt":28225,"./mt.js":28225,"./my":22224,"./my.js":22224,"./nb":97175,"./nb.js":97175,"./ne":94032,"./ne.js":94032,"./nl":81801,"./nl-be":12225,"./nl-be.js":12225,"./nl.js":81801,"./nn":12128,"./nn.js":12128,"./pa-in":97265,"./pa-in.js":97265,"./pl":62480,"./pl.js":62480,"./pt":50331,"./pt-br":6545,"./pt-br.js":6545,"./pt.js":50331,"./ro":6543,"./ro.js":6543,"./ru":91517,"./ru.js":91517,"./sd":19407,"./sd.js":19407,"./se":79451,"./se.js":79451,"./si":10957,"./si.js":10957,"./sk":78111,"./sk.js":78111,"./sl":29958,"./sl.js":29958,"./sq":51184,"./sq.js":51184,"./sr":9225,"./sr-cyrl":67141,"./sr-cyrl.js":67141,"./sr.js":9225,"./ss":77235,"./ss.js":77235,"./sv":1794,"./sv.js":1794,"./sw":75019,"./sw.js":75019,"./ta":2482,"./ta.js":2482,"./te":30091,"./te.js":30091,"./tet":83382,"./tet.js":83382,"./tg":92706,"./tg.js":92706,"./th":75058,"./th.js":75058,"./tl-ph":77186,"./tl-ph.js":77186,"./tlh":45420,"./tlh.js":45420,"./tr":81337,"./tr.js":81337,"./tzl":25233,"./tzl.js":25233,"./tzm":13024,"./tzm-latn":32140,"./tzm-latn.js":32140,"./tzm.js":13024,"./ug-cn":59834,"./ug-cn.js":59834,"./uk":8641,"./uk.js":8641,"./ur":4083,"./ur.js":4083,"./uz":39338,"./uz-latn":28398,"./uz-latn.js":28398,"./uz.js":39338,"./vi":32064,"./vi.js":32064,"./x-pseudo":96153,"./x-pseudo.js":96153,"./yo":92398,"./yo.js":92398,"./zh-cn":2393,"./zh-cn.js":2393,"./zh-hk":34897,"./zh-hk.js":34897,"./zh-tw":82487,"./zh-tw.js":82487};function a(e){var t=l(e);return s(t)}function l(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=l,e.exports=a,a.id=46700},15071:e=>{e.exports="data:image/gif;base64,R0lGODlhEAALAPQAAP///zMzM+Hh4dnZ2e7u7jc3NzMzM1dXV5qamn9/f8fHx05OTm5ubqGhoYKCgsrKylFRUTY2NnFxcerq6t/f3/b29l9fX+Li4vT09MTExLKystTU1PHx8QAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCwAAACwAAAAAEAALAAAFLSAgjmRpnqSgCuLKAq5AEIM4zDVw03ve27ifDgfkEYe04kDIDC5zrtYKRa2WQgAh+QQJCwAAACwAAAAAEAALAAAFJGBhGAVgnqhpHIeRvsDawqns0qeN5+y967tYLyicBYE7EYkYAgAh+QQJCwAAACwAAAAAEAALAAAFNiAgjothLOOIJAkiGgxjpGKiKMkbz7SN6zIawJcDwIK9W/HISxGBzdHTuBNOmcJVCyoUlk7CEAAh+QQJCwAAACwAAAAAEAALAAAFNSAgjqQIRRFUAo3jNGIkSdHqPI8Tz3V55zuaDacDyIQ+YrBH+hWPzJFzOQQaeavWi7oqnVIhACH5BAkLAAAALAAAAAAQAAsAAAUyICCOZGme1rJY5kRRk7hI0mJSVUXJtF3iOl7tltsBZsNfUegjAY3I5sgFY55KqdX1GgIAIfkECQsAAAAsAAAAABAACwAABTcgII5kaZ4kcV2EqLJipmnZhWGXaOOitm2aXQ4g7P2Ct2ER4AMul00kj5g0Al8tADY2y6C+4FIIACH5BAkLAAAALAAAAAAQAAsAAAUvICCOZGme5ERRk6iy7qpyHCVStA3gNa/7txxwlwv2isSacYUc+l4tADQGQ1mvpBAAIfkECQsAAAAsAAAAABAACwAABS8gII5kaZ7kRFGTqLLuqnIcJVK0DeA1r/u3HHCXC/aKxJpxhRz6Xi0ANAZDWa+kEAA7AAAAAAAAAAAA"},24327:()=>{}}]);